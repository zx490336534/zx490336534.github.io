<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="测试游记">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="测试游记">
<meta property="og:locale">
<meta property="article:author" content="测试游记">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/page/4/"/>





  <title>测试游记</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">测试游记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%89)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%89)/" itemprop="url">测试开发进阶(十三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:33+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%89)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(十三)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-十三"><a href="#测试开发进阶-十三" class="headerlink" title="测试开发进阶(十三)"></a>测试开发进阶(十三)</h1><p><strong>欢迎关注我公众号：「测试游记」</strong></p>
<h2 id="浮动和定位"><a href="#浮动和定位" class="headerlink" title="浮动和定位"></a>浮动和定位</h2><h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><blockquote>
<p>CSS 有三种基本的定位机制：普通流、浮动和绝对定位。</p>
</blockquote>
<p>通过使用 <a target="_blank" rel="noopener" href="http://www.w3school.com.cn/cssref/pr_class_position.asp">position 属性</a>，选择不同类型的定位。</p>
<ul>
<li>相对定位:<code>position: relative;</code></li>
</ul>
<p>在使用相对定位时，无论是否进行移动，元素仍然占据原来的空间。因此，移动元素会导致它覆盖其它框。</p>
<ul>
<li>绝对定位:<code>position: absolute;</code></li>
</ul>
<p>绝对定位使元素的位置与文档流无关，因此不占据空间。这一点与相对定位不同，相对定位实际上被看作普通流定位模型的一部分，因为元素的位置相对于它在普通流中的位置。</p>
<p>因为绝对定位的框与文档流无关，所以它们可以覆盖页面上的其它元素。可以通过设置 <a target="_blank" rel="noopener" href="http://www.w3school.com.cn/cssref/pr_pos_z-index.asp">z-index 属性</a>来控制这些框的堆放次序。</p>
<ul>
<li>固定位置:<code>position:fixed;</code></li>
</ul>
<p>直接以<strong>浏览器窗口</strong>作为参考进行定位，它是浮动在页面中，元素位置<strong>不会随浏览器窗口的滚动条滚动而变化</strong></p>
<h3 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h3><blockquote>
<p>浮动的框可以向左或向右移动，直到它的外边缘碰到包含框或另一个浮动框的边框为止。由于浮动框不在文档的普通流中，所以文档的普通流中的块框表现得就像浮动框不存在一样。</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line">  <span class="attribute">float</span><span class="selector-pseudo">:right</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>left -&gt; 元素向左浮动</p>
</li>
<li><p>right -&gt;元素向右浮动</p>
</li>
<li><p>none -&gt;默认值。元素不浮动，并会显示在其在文本中出现的位置。</p>
</li>
<li><p>Inherit -&gt; 规定应该从父元素继承 float 属性的值。</p>
</li>
</ul>
<h2 id="完成一个简单的菜单栏"><a href="#完成一个简单的菜单栏" class="headerlink" title="完成一个简单的菜单栏"></a>完成一个简单的菜单栏</h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6mb68s8cgj316g0a8gmt.jpg" alt="菜单栏"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>「测试游记」- 菜单栏<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">        .menu &#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="number">#5c5dff</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: white;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font</span>: normal <span class="number">20px</span>/<span class="number">80px</span> <span class="string">&#x27;Microsoft Sans Serif&#x27;</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: coral;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: darkblue;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菜单1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菜单2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菜单3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菜单4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>菜单5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><p>HTML 中的脚本必须位于 <script> 与 </script> 标签之间。脚本可被放置在 HTML 页面的 <body> 和 <head> 部分中。</p>
<p>1、行间事件（主要用于事件）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(&#x27;Hello Python&#x27;)&quot;</span>&gt;</span>box<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6mc6hpv0aj31ii0boq61.jpg" alt="弹出hello"></p>
<p>2、页面script标签嵌入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span>        </span><br><span class="line"><span class="javascript">    alert(<span class="string">&#x27;ok！&#x27;</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3、外部引入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><ol>
<li>注释</li>
</ol>
<ul>
<li>单行注释：以 // 开头。</li>
<li>多行注释：以 /* 开始，以 */ 结尾。</li>
</ul>
<ol start="2">
<li>变量</li>
</ol>
<ul>
<li>命名</li>
</ul>
<blockquote>
<p>变量可以使用短名称（比如 x 和 y），也可以使用描述性更好的名称（比如 age, sum, totalvolume）。</p>
<p>变量必须以字母开头</p>
<p>变量也能以 $ 和 _ 符号开头（不过我们不推荐这么做）</p>
<p>变量名称对大小写敏感（y 和 Y 是不同的变量）</p>
<p>驼峰式命名</p>
</blockquote>
<ul>
<li>声明</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先声明后赋值</span></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line">x = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在声明的时候赋值</span></span><br><span class="line"><span class="keyword">var</span> y=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同时给多个变量赋值</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>,b = <span class="number">200</span>,c = <span class="number">300</span>;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>数据类型</li>
</ol>
<ul>
<li>number  数字类型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> y=<span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>string 字符串类型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> st=<span class="string">&#x27;python&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>boolean 布尔类型</li>
</ul>
<p>true和false(小写)</p>
<ul>
<li>undefined 类型</li>
</ul>
<p>变量声明未初始化，它的值就是undefined</p>
<ul>
<li>null类型</li>
</ul>
<p>表示空对象，类似于python中的None</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tr = <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<ul>
<li>arry  数组</li>
</ul>
<p>方法：</p>
<p>length属性：获取数组长度</p>
<p>pop() 方法从数组中删除最后一个元素</p>
<p>push() 方法（在数组结尾处）向数组添加一个新的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建数组</span></span><br><span class="line"><span class="keyword">var</span> skill= <span class="built_in">Array</span>(<span class="string">&quot;html&quot;</span>,<span class="string">&quot;css&quot;</span>,<span class="string">&quot;js&quot;</span>);</span><br><span class="line"></span><br><span class="line">skill[<span class="number">0</span>]</span><br><span class="line">skill.length</span><br><span class="line">skill.pop()</span><br><span class="line">skill.push(<span class="string">&#x27;jquery&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6mcm0pijoj30h60c0t9h.jpg" alt="image-20190903151321110"></p>
<ol start="4">
<li>运算符</li>
</ol>
<ul>
<li><p> 算术运算符： <code>+</code>(加)、 <code>-</code>(减)、 <code>*</code>(乘)、<code>/</code>(除)、 <code>%</code>(求余)</p>
</li>
<li><p> 赋值运算符：<code>=</code>、 <code>+=</code>、 <code>-=</code>、 <code>*=</code>、 <code>/=</code>、 <code>%=</code> 、<code>++</code></p>
</li>
<li><p> 条件运算符：<code>==</code>、<code>===</code>、<code>&gt;</code>、<code>&gt;=</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>!=</code>、</p>
</li>
<li><p>逻辑运算符：<code>&amp;&amp;</code>(而且 )、<code>||</code>(或者 )、<code>!</code>(否 )</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6mctpltlnj305w08udfx.jpg" alt="条件运算"></p>
<ol start="5">
<li>条件语句</li>
</ol>
<ul>
<li>if</li>
<li>else</li>
<li>else if</li>
<li>switch</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">199</span>;</span><br><span class="line">    <span class="keyword">if</span>(a&gt;<span class="number">200</span>)&#123;</span><br><span class="line">        alert(<span class="string">&#x27;大于200&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a&gt;<span class="number">100</span>)&#123;</span><br><span class="line">        alert(<span class="string">&#x27;大于100&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(a);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6mcvin0t1j30ow078aaa.jpg" alt="弹框"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式) &#123;</span><br><span class="line">     <span class="keyword">case</span> n1:</span><br><span class="line">        代码块</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> n1:</span><br><span class="line">        代码块</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">default</span>:</span><br><span class="line">        默认代码块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>计算一次 switch 表达式</li>
<li>把表达式的值与每个 case 的值进行对比</li>
<li>如果存在匹配，则执行关联代码</li>
<li>遇到 break 关键词，它会跳出 switch 代码块。</li>
<li>case 匹配不存在时，运行default 的代码：</li>
</ul>
</blockquote>
<ol start="6">
<li>循环</li>
</ol>
<ul>
<li>while循环</li>
<li>for 循环</li>
<li>for in 循环</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// while循环</span></span><br><span class="line"><span class="keyword">while</span>（条件语句)&#123;</span><br><span class="line">    循环体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for 循环</span></span><br><span class="line"><span class="keyword">for</span> (语句<span class="number">1</span>,语句<span class="number">2</span>，语句<span class="number">3</span> )&#123;</span><br><span class="line">    循环体代码</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// for in 循环</span></span><br><span class="line"><span class="keyword">for</span> (x <span class="keyword">in</span> arrayr)&#123;</span><br><span class="line">    循环体代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aa = <span class="number">101</span>, bb = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">while</span> (aa &gt; bb) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(aa);</span><br><span class="line">    aa -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6md6guzazj30cg086gm1.jpg" alt="while"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>![for](../../../Library/Application Support/typora-user-images/image-20190903153318464.png)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aList = <span class="built_in">Array</span>(<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>);</span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> aList)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">    <span class="built_in">console</span>.log(aList[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6md894zcgj30i80ho0tm.jpg" alt="for in"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objC = &#123;<span class="attr">name</span>: <span class="string">&#x27;abc&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span>&#125;;</span><br><span class="line"><span class="comment">// 遍历对象</span></span><br><span class="line"><span class="keyword">for</span> (x <span class="keyword">in</span> objC) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">    <span class="built_in">console</span>.log(objC[x]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6md9fnbxpj30gq0c0dgp.jpg" alt="遍历对象"></p>
<ol start="7">
<li>函数</li>
</ol>
<ul>
<li>函数定义：定义函数的关键词 function，函数内的代码块，包裹在花括号中：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数的定义 使用function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">alter(<span class="number">999</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数调用</span></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>

<p>提示：JavaScript 对大小写敏感。关键词 function 必须是小写的</p>
<ul>
<li> 函数参数：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNumber</span>(<span class="params">var1,var2</span>) </span>&#123;</span><br><span class="line">alert(var1 + var2;);    </span><br><span class="line">&#125;</span><br><span class="line">addNumber(<span class="number">11</span>,<span class="number">22</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>函数返回值：使用 return 来返回值。在使用 return 语句时，函数会停止执行，并返回指定的值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNumber</span>(<span class="params">var1, var2</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> var1 + var2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> res = addNumber(<span class="number">11</span>,<span class="number">222</span>);</span><br><span class="line">alert(res)</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>对象属性</li>
</ol>
<blockquote>
<p>对象的属性以名称和值对的形式 (name : value) 来定义。属性由逗号分隔：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objA=&#123;<span class="attr">name</span> : <span class="string">&quot;python&quot;</span>,<span class="attr">age</span>  : <span class="number">18</span>,<span class="attr">id</span> :<span class="number">123</span>&#125;;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%BA%8C)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%BA%8C)/" itemprop="url">测试开发进阶(十二)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:33+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%BA%8C)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(十二)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-十二"><a href="#测试开发进阶-十二" class="headerlink" title="测试开发进阶(十二)"></a>测试开发进阶(十二)</h1><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><blockquote>
<p>负责页面显示的效果</p>
</blockquote>
<h2 id="CSS引入的方式"><a href="#CSS引入的方式" class="headerlink" title="CSS引入的方式"></a>CSS引入的方式</h2><ul>
<li>内联式：直接在标签上定义<code>style</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;height: 100px;background-color: red&quot;</span>&gt;</span>这个是div标签<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hymq2r3pj30zw0agab2.jpg" alt="style1"></p>
<ul>
<li>嵌入式：在<code>head</code>中定义<code>style</code>标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>CSS学习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">        .box1 &#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: green;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span>这个是div2标签<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hynrn3p3j310q0bcdgv.jpg" alt="style2"></p>
<ul>
<li>外联式：<code>link</code>一个<code>css</code>文件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/0830.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>css/0830.css</code>文件：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*注释*/</span></span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hysuzoudj30z60b0t9q.jpg" alt="style3"></p>
<h2 id="CSS的基本语法"><a href="#CSS的基本语法" class="headerlink" title="CSS的基本语法"></a>CSS的基本语法</h2><p>CSS规则：选择器+一条或者多条声明</p>
<ul>
<li>选择器通常是需要改变样式的HTML元素</li>
<li>每条声明由一个属性和一个值组成</li>
<li>属性：希望设置的样式属性，每个属性有一个值，属性和值被冒号分开</li>
</ul>
<p><code>h1</code> <code>&#123;color:red;font-size:14px;&#125;</code></p>
<p><code>h1</code>:选择器</p>
<p><code>color:red;</code>：声明</p>
<p><code>color</code>：属性</p>
<p><code>red</code>：值</p>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><ul>
<li>标签选择器</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hyzgs74lj31fg0qw40g.jpg" alt="标签选择器"></p>
<ul>
<li>class选择器:<code>.</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">195</span>, <span class="number">160</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font</span>: bold <span class="number">22px</span>/<span class="number">30px</span> <span class="string">&#x27;Monaco&#x27;</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i06jmzq0j31rq032goi.jpg" alt="类选择器"></p>
<ul>
<li>id选择器:<code>#</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;b2&quot;</span>&gt;</span>div2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#b2</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font</span>: normal <span class="number">36px</span>/<span class="number">60px</span> <span class="string">&#x27;Monaco&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i07sm7yxj30b6044wf4.jpg" alt="id选择器"></p>
<ul>
<li>属性选择器</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;div3&quot;</span>&gt;</span>div3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-attr">[name]</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i05yczgqj302q01owea.jpg" alt="属性选择器"></p>
<ul>
<li>层级选择器</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box2</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i05h7vp2j3070028746.jpg" alt="层级选择"></p>
<ul>
<li>组选择器</li>
</ul>
<p>选择多组元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box2</span>, <span class="selector-class">.box1</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: normal <span class="number">36px</span>/<span class="number">60px</span> <span class="string">&#x27;Monaco&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>伪选择器</li>
</ul>
<blockquote>
<p>active</p>
<p>focus</p>
<p><strong>hover</strong>:重要</p>
<p>link</p>
<p>Visited</p>
</blockquote>
<p>鼠标放上去生效</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box1</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i0mp4vxlj309y044wfb.jpg" alt="鼠标放上去之前"></p>
<p>![鼠标放上去之后](../../../Library/Application Support/typora-user-images/image-20190830211642177.png)</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>背景色：<code>background-color: blue;</code></p>
<p>背景图片：<code>background-image: url(&quot;image/IMG_3609.JPG&quot;);</code></p>
<p>不平铺：<code>background-repeat: no-repeat;</code></p>
<h3 id="背景定位"><a href="#背景定位" class="headerlink" title="背景定位"></a>背景定位</h3><p>水平居中：<code>background-position: center;</code></p>
<p>顶部：<code>background-position: top;</code></p>
<h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><ul>
<li><p>用单词表示颜色：<code>blue</code></p>
</li>
<li><p>使用RGB的方式：<code>rgb(111, 222, 333)</code></p>
</li>
<li><p>透明度的RGB方法<code>rgba(111, 222, 333, 50)</code></p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://tool.oschina.net/commons?type=3">http://tool.oschina.net/commons?type=3</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hzfnv40wj318w0lq40p.jpg" alt="image-20190830203508938"></p>
<ul>
<li>16进制颜色表示法<code>#FF0000</code></li>
</ul>
<p>在Pycharm中直接选择</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hzk7cvmaj30u00ukk3k.jpg" alt="颜色选择器"></p>
<h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><p>设置顺序：是否加粗 字号/行高 字体；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font: bold 22px/30px &#x27;Monaco&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="文字锁进"><a href="#文字锁进" class="headerlink" title="文字锁进"></a>文字锁进</h3><p>文字居中：<code>text-align: center;</code></p>
<h2 id="CSS模型框"><a href="#CSS模型框" class="headerlink" title="CSS模型框"></a>CSS模型框</h2><blockquote>
<p>规定了元素框处理元素内容，内边框，边框，外边距</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i0reozarj30bc09qwen.jpg" alt="CSS模型框"></p>
<p>内边距：<code>padding</code></p>
<p>外边距：<code>margin</code></p>
<p>传入顺序：<strong>上右下左</strong>「顺时针」</p>
<p>边框线：<code>border</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">            <span class="attribute">background</span>: aqua;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">            <span class="attribute">border</span>: solid <span class="number">2px</span> blue;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">80px</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i0zweo1aj30dq0a2gm1.jpg" alt="盒子"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i10c7fy9j31400mgjsm.jpg" alt="盒子显示"></p>
<h2 id="使用以上知识完成登录页面"><a href="#使用以上知识完成登录页面" class="headerlink" title="使用以上知识完成登录页面"></a>使用以上知识完成登录页面</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>登录页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="number">#396b94</span> <span class="built_in">url</span>(<span class="string">&quot;image/IMG_3609.JPG&quot;</span>) center no-repeat;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login_box &#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">520px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">15%</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.25</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login_title &#123;</span><br><span class="line"><span class="css">            <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font</span>: bold <span class="number">22px</span>/<span class="number">40px</span> <span class="string">&#x27;Microsoft Sans Serif&#x27;</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">padding-top</span>: <span class="number">20px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .input_text &#123;</span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .btn &#123;</span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font</span>: bold <span class="number">22px</span>/<span class="number">40px</span> <span class="string">&#x27;Microsoft Sans Serif&#x27;</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>: <span class="number">#396b94</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .input &#123;</span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font</span>: bold <span class="number">18px</span>/<span class="number">40px</span> <span class="string">&#x27;Microsoft Sans Serif&#x27;</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: solid <span class="number">0.1px</span> <span class="number">#57dbff</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-indent</span>: <span class="number">20px</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login_box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login_title&quot;</span>&gt;</span>管理员登录<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input_text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入账号&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input_text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input_text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击登录&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6i20kj5b9j31d90u0x6p.jpg" alt="登录页面"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B9%9D)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B9%9D)/" itemprop="url">测试开发进阶(十九)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:33+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B9%9D)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(十九)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-十九"><a href="#测试开发进阶-十九" class="headerlink" title="测试开发进阶(十九)"></a>测试开发进阶(十九)</h1><p>欢迎关注我的公众号：「测试游记」</p>
<h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h2><p>场景：父页面打开，再打开子页面</p>
<p>借鉴官方示例：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router/blob/dev/examples/nested-routes/app.js">https://github.com/vuejs/vue-router/blob/dev/examples/nested-routes/app.js</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78kkkd6wjj31b30u0b1g.jpg" alt="嵌套路由"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    base: __dirname,</span><br><span class="line">    routes: [</span><br><span class="line">        &#123;<span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/parent&#x27;</span>&#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/parent&#x27;</span>,</span><br><span class="line">            component: Parent,</span><br><span class="line">            children: [</span><br><span class="line">                <span class="comment">// an empty path will be treated as the default, e.g.</span></span><br><span class="line">                <span class="comment">// components rendered at /parent: Root -&gt; Parent -&gt; Default</span></span><br><span class="line">                &#123;<span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">component</span>: Default&#125;,</span><br><span class="line">                <span class="comment">// components rendered at /parent/foo: Root -&gt; Parent -&gt; Foo</span></span><br><span class="line">                &#123;<span class="attr">path</span>: <span class="string">&#x27;foo&#x27;</span>, <span class="attr">component</span>: Foo&#125;,</span><br><span class="line">                <span class="comment">// components rendered at /parent/bar: Root -&gt; Parent -&gt; Bar</span></span><br><span class="line">                &#123;<span class="attr">path</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="attr">component</span>: Bar&#125;,</span><br><span class="line">                <span class="comment">// NOTE absolute path here!</span></span><br><span class="line">                <span class="comment">// this allows you to leverage the component nesting without being</span></span><br><span class="line">                <span class="comment">// limited to the nested URL.</span></span><br><span class="line">                <span class="comment">// components rendered at /baz: Root -&gt; Parent -&gt; Baz</span></span><br><span class="line">                &#123;<span class="attr">path</span>: <span class="string">&#x27;/baz&#x27;</span>, <span class="attr">component</span>: Baz&#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    path: <span class="string">&#x27;qux/:quxId&#x27;</span>,</span><br><span class="line">                    component: Qux,</span><br><span class="line">                    children: [</span><br><span class="line">                        &#123;<span class="attr">path</span>: <span class="string">&#x27;quux&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;quux&#x27;</span>, <span class="attr">component</span>: Quux&#125;,</span><br><span class="line">                        &#123;<span class="attr">path</span>: <span class="string">&#x27;quuy&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;quuy&#x27;</span>, <span class="attr">component</span>: Quuy&#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;<span class="attr">path</span>: <span class="string">&#x27;quy/:quyId&#x27;</span>, <span class="attr">component</span>: Quy&#125;,</span><br><span class="line">                &#123;<span class="attr">name</span>: <span class="string">&#x27;zap&#x27;</span>, <span class="attr">path</span>: <span class="string">&#x27;zap/:zapId?&#x27;</span>, <span class="attr">component</span>: Zap&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>修改<code>/src/router/index.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    component: Login,</span><br><span class="line">    children: [</span><br><span class="line">        &#123;<span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">component</span>: Login&#125;,<span class="comment">//默认路由</span></span><br><span class="line">        &#123;<span class="attr">path</span>: <span class="string">&#x27;/projects_list2&#x27;</span>, <span class="attr">component</span>: ProjectsList&#125;,</span><br><span class="line">        &#123;<span class="attr">path</span>: <span class="string">&#x27;projects_list2&#x27;</span>, <span class="attr">component</span>: ProjectsList&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在<code> /src/components/Login.vue</code>的<code>template</code>中添加以下内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>=====================<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>输入：<code>http://localhost:8080/login</code>会显示两个输入内容</p>
<p>这是因为子路由中有一个<code>空</code>的默认路由：<code>&#123;path: &#39;&#39;, component: Login&#125;</code>,所以父路由加载一次，子路由加载一次</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78kvtgbzvj31b30u0ar9.jpg" alt="登录页"></p>
<p>输入:<code>http://localhost:8080/projects_list2</code>会显示登录部分和项目部分</p>
<p>但是它使用的是<code>&#123;path: &#39;/projects_list2&#39;, component: ProjectsList&#125;</code></p>
<p>输入:<code>http://localhost:8080/login/projects_list2</code>也会显示一样的内容</p>
<p>但它使用的是<code>&#123;path: &#39;projects_list2&#39;, component: ProjectsList&#125;</code></p>
<p>两者区别是有无<code>/</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78kxoya3pj31b30u019k.jpg" alt="登录+项目"></p>
<h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><ul>
<li>非常流行的请求库</li>
<li>vue发起异步请求的标配</li>
</ul>
<p>安装方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cnpm install axios -S</span></span><br></pre></td></tr></table></figure>

<p>测试接口：<code>https://dog.ceo/api/breeds/image/random</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78l7engnxj311a0bu0vq.jpg" alt="狗狗图片"></p>
<p>修改<code>/src/components/HelloWorld.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        props: &#123; <span class="comment">//从父组件获取msg</span></span></span><br><span class="line"><span class="javascript">            msg: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            title: <span class="built_in">Number</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            axios.get(<span class="string">&#x27;https://dog.ceo/api/breeds/image/random&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(response);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(response.data);</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">                .catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(err);</span></span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78ly6rfnzj31b30u0qor.jpg" alt="获取的内容"></p>
<p><code>/src/components/HelloWorld.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-image</span> <span class="attr">:src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">fit</span>=<span class="string">&quot;cover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        props: &#123; <span class="comment">//从父组件获取msg</span></span></span><br><span class="line"><span class="javascript">            msg: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            title: <span class="built_in">Number</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                url: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            axios.get(<span class="string">&#x27;https://dog.ceo/api/breeds/image/random&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(response);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(response.data);</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.url = response.data.message;</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">                .catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(err);</span></span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">h3</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">0</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style-type</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: <span class="number">#42b983</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78m8b0n9bj31b30u0kjl.jpg" alt="结果展示"></p>
<h3 id="代码封装"><a href="#代码封装" class="headerlink" title="代码封装"></a>代码封装</h3><p>新建<code>/src/api/api.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = <span class="string">&#x27;https://dog.ceo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> dogs = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> axios.get(<span class="string">`<span class="subst">$&#123;host&#125;</span>/api/breeds/image/random`</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>修改<code>HelloWorld.vue</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;dogs&#125; <span class="keyword">from</span> <span class="string">&#x27;../api/api.js&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            dogs()</span><br><span class="line">                .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(response);</span><br><span class="line">                    <span class="built_in">console</span>.log(response.data);</span><br><span class="line">                    <span class="built_in">this</span>.url = response.data.message;</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(err);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h2 id="slot插槽"><a href="#slot插槽" class="headerlink" title="slot插槽"></a>slot插槽</h2><blockquote>
<p>默认情况下,在子组件开始标签和结束标签中间添加的内容会忽略</p>
</blockquote>
<p>在<code>/src/components/greeting.vue</code>的<code>template</code>中增加以下内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hello-world</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是Hello-world子组件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果需要展示出来需要在<code>/src/components/HelloWorld.vue</code>中添加：</p>
<p><code>&lt;slot&gt;&lt;/slot&gt;</code>也就是插槽</p>
<p>如果在<code>slot</code>中写入内容，那外部不使用会使用默认的：</p>
<p><code>&lt;slot&gt;&lt;p&gt;喵喵喵&lt;/p&gt;&lt;/slot&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># greeting.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">hello-world</span>&gt;</span><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># HelloWorld.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>喵喵喵<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78n4xo7cqj306401wgle.jpg" alt="默认"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># greeting.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是Hello-world子组件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># HelloWorld.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>喵喵喵<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78n5km8u0j30e802cq2w.jpg" alt="修改后"></p>
<h3 id="命名插槽"><a href="#命名插槽" class="headerlink" title="命名插槽"></a>命名插槽</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># greeting.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">hello-world</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--vue2.6之前--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;part1&quot;</span>&gt;</span>这是Hello-world子组件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--vue2.6之后--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--v-slot=&quot;part2&quot; 可以缩写为 #part2--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot</span>=<span class="string">&quot;part2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">part2</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是part2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># HelloWorld.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;part1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>汪汪汪<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;part2&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>咳咳咳<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78n8ycfw3j30c2034t8o.jpg" alt="显示"></p>
<h3 id="插槽作用域"><a href="#插槽作用域" class="headerlink" title="插槽作用域"></a>插槽作用域</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># greeting.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">hello-world</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--vue2.6之前--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">&quot;part4&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;sope&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;sope.user&#125;&#125;:这是Hello-world子组件</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--vue2.6之后--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">part4</span>=<span class="string">&quot;sope&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;sope.user&#125;&#125;:这是part4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--简写--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">part4</span>=<span class="string">&quot;&#123;user&#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;user&#125;&#125;:这是part4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># HelloWorld.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;part4&quot;</span> <span class="attr">:user</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g78nk9q38qj307i022q2t.jpg" alt="作用域"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%80)/" itemprop="url">测试开发进阶(十一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:33+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E5%8D%81%E4%B8%80)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(十一)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-十一"><a href="#测试开发进阶-十一" class="headerlink" title="测试开发进阶(十一)"></a>测试开发进阶(十一)</h1><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><blockquote>
<p>HTML 超文本标记语言，网页制作的编程语言</p>
</blockquote>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="comment">&lt;!-- 头部信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>测试游记<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">body-测试游记</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<p><code>&lt;!DOCTYPE html&gt;</code>： HTML5的声明</p>
<p><code>&lt;meta&gt;</code>：声明，例如编码</p>
<p><code>&lt;title&gt;</code>：网页名称</p>
<p><code>&lt;body&gt;</code>：主体内容</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fo2f1oksj317g07cgmp.jpg" alt="title-body"></p>
<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><ul>
<li><p>注释：<code>&lt;!-- 我是注释 --&gt;</code></p>
</li>
<li><p>段落标签：<code>&lt;p&gt;&lt;/p&gt;</code></p>
</li>
<li><p>标题：</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>标题3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>标题4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>标题5<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>标题6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fo50nzukj317a0o20ut.jpg" alt="标题"></p>
<ul>
<li><p>换行：<code>&lt;br&gt;</code></p>
</li>
<li><p>水平线：<code>&lt;hr&gt;</code></p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fo8sgxmqj30yo0gsgnk.jpg" alt="换行-水平线"></p>
<ul>
<li>块标签：<code>&lt;div&gt;&lt;/div&gt;</code></li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6foaew0n1j30jc0wi417.jpg" alt="块"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 200px; background-color: red&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>增加大小，背景颜色</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fodpdvohj30ig0ciwen.jpg" alt="大小，颜色"></p>
<ul>
<li>行内元素:<code>&lt;span&gt;&lt;/span&gt;</code> 不会换行</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>66666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>66666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>66666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>66666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>66666<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fogay6lhj30h2032746.jpg" alt="行内元素"></p>
<ul>
<li>字体倾斜<code>&lt;i&gt;&lt;/i&gt;</code></li>
<li>比较重要的字体倾斜<code>&lt;em&gt;&lt;/em&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6foidgx3dj30cu02wweh.jpg" alt="字体倾斜"></p>
<ul>
<li>字体加粗<code>&lt;b&gt;&lt;/b&gt;</code></li>
<li>比较重要的字体加粗<code>&lt;strong&gt;&lt;/strong&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>「测试游记」<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6foj8t7g0j30cy04edfu.jpg" alt="image-20190828204655083"></p>
<ul>
<li>图片：<code>&lt;img src=&quot;&quot; alt=&quot;&quot;&gt;</code></li>
</ul>
<p>图片无法加载：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;pic.JPG1&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;背景图片&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fon5c0k9j30nc07kq3l.jpg" alt="图片无法加载"></p>
<p>正常加载</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;pic.JPG&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;背景图片&quot;</span> <span class="attr">height</span>=<span class="string">&quot;600px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300px&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fooc6o7oj30mc140x6p.jpg" alt="正常加载"></p>
<ul>
<li>超链接：<code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://map.baidu.com&quot;</span>&gt;</span>百度地图<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6foq1enjfj30k207q74w.jpg" alt="超链接"></p>
<ul>
<li>链接到外部样式：<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;&quot;&gt;</code></li>
<li>无序列表</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>快速语法：<code>ul&gt;li*5</code>创建5条内容的列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>d<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>e<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fotpb2b2j305007cwed.jpg" alt="列表"></p>
<ul>
<li>有序列表</li>
</ul>
<p>快速语法：<code>ol&gt;li*5</code>创建5条内容的列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>d<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>e<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fovrbwlnj303u06y0sn.jpg" alt="image-20190828205856959"></p>
<ul>
<li>表格<code>&lt;table&gt;&lt;/table&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>列1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>列2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>列3<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>列4<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>21<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>31<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fp15qzq4j30ng07g0t6.jpg" alt="表格"></p>
<h2 id="form表单"><a href="#form表单" class="headerlink" title="form表单"></a>form表单</h2><p>简单的编写一个flask测试页面</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>

<p>编写一个表单</p>
<ul>
<li><code>action</code>：地址</li>
<li><code>method</code>：方式</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://127.0.0.1:5000/&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>提交：<code>http://127.0.0.1:5000/?user=zx&amp;pwd=123456</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fphanmrgj30rw07q754.jpg" alt="表单"></p>
<p>点击提交</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fphnxh2oj30mu08qmxk.jpg" alt="image-20190828211958938"></p>
<ul>
<li><p>文本输入框：<code>&lt;input type=&quot;text&quot; name=&quot;user&quot;&gt;</code></p>
</li>
<li><p>密码输入框：<code>&lt;input type=&quot;password&quot; name=&quot;pwd&quot;&gt;</code></p>
</li>
<li><p>提交按钮：<code>&lt;input type=&quot;submit&quot;&gt;</code></p>
</li>
<li><p>单选框：</p>
</li>
</ul>
<p>提交：<code>http://127.0.0.1:5000/?user=&amp;pwd=&amp;like=python</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">编程语言：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;like&quot;</span> <span class="attr">value</span>=<span class="string">&quot;python&quot;</span>&gt;</span> Python</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;like&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span> Java</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fpp47pqoj30mm0aaab0.jpg" alt="单选框"></p>
<ul>
<li>多选框：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;skill&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Django&quot;</span>&gt;</span> Django</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;skill&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Flask&quot;</span>&gt;</span> Flask</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;skill&quot;</span> <span class="attr">value</span>=<span class="string">&quot;scrapy&quot;</span>&gt;</span> scrapy</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;skill&quot;</span> <span class="attr">value</span>=<span class="string">&quot;pytest&quot;</span>&gt;</span> pytest</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fptbj3roj30j008aaaj.jpg" alt="多选框"></p>
<p>提交：<code>http://127.0.0.1:5000/?user=&amp;pwd=&amp;skill=Django&amp;skill=Flask&amp;skill=scrapy&amp;skill=pytest</code></p>
<ul>
<li>文件上传</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件上传<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fpxarb9rj30is080js3.jpg" alt="选择文件前"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fpx060d1j30ig09oaat.jpg" alt="选择文件后"></p>
<ul>
<li>普通按钮</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;普通按钮&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fpy4kcg6j30hk0aemxz.jpg" alt="image-20190828213549841"></p>
<ul>
<li>重置按钮</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">name</span>=<span class="string">&quot;resetbtn&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fpzosf9ej30ge09waaw.jpg" alt="重置按钮"></p>
<p>输入内容后，点击重置会把填入的内容清空</p>
<ul>
<li>图片按钮</li>
</ul>
<p>点击图片后会提交</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;pic.JPG&quot;</span>  <span class="attr">height</span>=<span class="string">&quot;300px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;150px&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fq2i66y8j30xf0u0k85.jpg" alt="image-20190828214000856"></p>
<ul>
<li>隐藏表单域：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&#x27;csrf&#x27;</span> <span class="attr">value</span>=<span class="string">&quot;隐藏表单域&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure>

<p>提交的内容：<code>http://127.0.0.1:5000/?user=&amp;pwd=&amp;hello=&amp;csrf=隐藏表单域</code></p>
<ul>
<li>label标签</li>
</ul>
<p>for属性关联input的id</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;user&quot;</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>点击<code>用户名</code>之后激活输入框</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fq86tjcwj30ea03cweg.jpg" alt="单击用户名"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fq7yn6hdj30e0030a9z.jpg" alt="单击密码"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;like&quot;</span> <span class="attr">value</span>=<span class="string">&quot;python&quot;</span> <span class="attr">id</span>=<span class="string">&quot;python&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;python&quot;</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>点击python文字会自动选中python单选框，点击Java不会选中</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fqa0znnwj30gq01qt8q.jpg" alt="点击python文字"></p>
<ul>
<li>大文本输入框</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;user_info&quot;</span>&gt;</span>个人介绍<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user_info&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fqbg4sntj30h60b074b.jpg" alt="image-20190828214837431"></p>
<ul>
<li>下拉选择框</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;city&quot;</span>&gt;</span>城市<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;city&quot;</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span>浙江<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fqi3pax4j307q03qdgq.jpg" alt="下拉框"></p>
<p>选中「浙江」后提交:<code>http://127.0.0.1:5000/?user=&amp;pwd=&amp;hello=&amp;csrf=隐藏表单域&amp;city=0</code></p>
<p><code>city=0</code></p>
<h2 id="iframe-内联框架"><a href="#iframe-内联框架" class="headerlink" title="iframe 内联框架"></a>iframe 内联框架</h2><p>iframe元素会创建包含另外一个文档的内联框架(行内框架)</p>
<p>例子：将其他页面的内容链接到当前页面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://www.baidu.com/&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600px&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;http://www.sina.com/&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600px&quot;</span>&gt;</span>新浪<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6fqo362i5j31qp0u0hby.jpg" alt="iframe"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B9%9D)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B9%9D)/" itemprop="url">测试开发进阶(九)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:33+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B9%9D)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(九)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-九"><a href="#测试开发进阶-九" class="headerlink" title="测试开发进阶(九)"></a>测试开发进阶(九)</h1><h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><p>Queue模块中提供了同步的，线程安全的队列类，包括：</p>
<ul>
<li>FIFO Queue 先入先出</li>
<li>LIFO Queue 后入先出</li>
<li>Priority Queue：优先级队列</li>
</ul>
<p>这些都实现了 锁原语，能够在多线程中直接使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue, LifoQueue, PriorityQueue</span><br></pre></td></tr></table></figure>

<ul>
<li>Queue:先入先出</li>
<li>LifoQueue:后入先出</li>
<li>PriorityQueue:优先级队列</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line">q1 = Queue(maxsize=<span class="number">5</span>)  <span class="comment"># If maxsize is &lt;= 0, the queue size is infinite.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 往队列中添加元素</span></span><br><span class="line">q1.put(<span class="number">1</span>)</span><br><span class="line">q1.put(<span class="number">2</span>)</span><br><span class="line">q1.put(<span class="number">3</span>)</span><br><span class="line">q1.put(<span class="number">4</span>)</span><br><span class="line">q1.put(<span class="number">5</span>)</span><br><span class="line">print(<span class="string">&#x27;-----5-----&#x27;</span>)</span><br><span class="line"><span class="comment"># 数据填满后会等待，可以指定timeout参数</span></span><br><span class="line"><span class="comment"># def put(self, item, block=True, timeout=None)</span></span><br><span class="line">q1.put(<span class="number">6</span>, timeout=<span class="number">3</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/09/0823.py&quot;, line 21, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    q1.put(6, timeout=3)</span></span><br><span class="line"><span class="string">  File &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/queue.py&quot;, line 147, in put</span></span><br><span class="line"><span class="string">    raise Full</span></span><br><span class="line"><span class="string">queue.Full</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>查看put_nowait代码，其实就是put方法的block设置为False</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">q1.put(<span class="number">22</span>, block=<span class="literal">False</span>)  <span class="comment"># block设为False，就和put_nowait效果一致</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">put_nowait</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;Put an item into the queue without blocking.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Only enqueue the item if a free slot is immediately available.</span></span><br><span class="line"><span class="string">    Otherwise raise the Full exception.</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> self.put(item, block=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line">q1 = Queue(maxsize=<span class="number">5</span>)  <span class="comment"># If maxsize is &lt;= 0, the queue size is infinite.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 往队列中添加元素</span></span><br><span class="line">q1.put(<span class="number">1</span>)</span><br><span class="line">q1.put(<span class="number">2</span>)</span><br><span class="line">q1.put(<span class="number">3</span>)</span><br><span class="line">q1.put(<span class="number">4</span>)</span><br><span class="line">q1.put(<span class="number">5</span>)</span><br><span class="line">print(<span class="string">&#x27;-----5-----&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从队列中获取元素</span></span><br><span class="line">print(q1.get())</span><br><span class="line">print(q1.get())</span><br><span class="line">print(q1.get())</span><br><span class="line">print(q1.get())</span><br><span class="line">print(q1.get())</span><br><span class="line">print(<span class="string">&#x27;-----5-----&#x27;</span>)</span><br><span class="line">print(q1.get(block=<span class="literal">False</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/09/0823_1.py&quot;, line 26, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    print(q1.get(block=False))</span></span><br><span class="line"><span class="string">  File &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/queue.py&quot;, line 167, in get</span></span><br><span class="line"><span class="string">    raise Empty</span></span><br><span class="line"><span class="string">_queue.Empty</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line">q = Queue(<span class="number">2</span>)</span><br><span class="line">q.put(num)  <span class="comment"># 把数据存储在队列中</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        num = q.get()</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line">        q.put(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work2</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        num = q.get()</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line">        q.put(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    t1 = Thread(target=work1)</span><br><span class="line">    t2 = Thread(target=work2)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    print(q.get())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="几种get和put"><a href="#几种get和put" class="headerlink" title="几种get和put"></a>几种get和put</h3><ul>
<li>Queue</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Put a new item in the queue</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_put</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    self.queue.append(item)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get an item from the queue</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> self.queue.popleft()</span><br></pre></td></tr></table></figure>

<ul>
<li>PriorityQueue</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_put</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    heappush(self.queue, item)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> heappop(self.queue)</span><br></pre></td></tr></table></figure>

<ul>
<li>LifoQueue</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_put</span>(<span class="params">self, item</span>):</span></span><br><span class="line">    self.queue.append(item)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> self.queue.pop()</span><br></pre></td></tr></table></figure>

<h3 id="优先级队列"><a href="#优先级队列" class="headerlink" title="优先级队列"></a>优先级队列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> PriorityQueue  <span class="comment"># 优先级队列</span></span><br><span class="line"></span><br><span class="line">pq = PriorityQueue()</span><br><span class="line">pq.put((<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">pq.put((<span class="number">2</span>, <span class="number">22</span>))</span><br><span class="line">pq.put((<span class="number">0</span>, <span class="number">33</span>))</span><br><span class="line">pq.put((<span class="number">99</span>, <span class="number">333</span>))</span><br><span class="line"><span class="comment"># 前面的值越小 越先出来</span></span><br><span class="line">print(pq.get())  <span class="comment"># (0, 33)</span></span><br><span class="line">print(pq.get())  <span class="comment"># (1, 11)</span></span><br><span class="line">print(pq.get())  <span class="comment"># (2, 22)</span></span><br><span class="line">print(pq.get())  <span class="comment"># (99, 333)</span></span><br></pre></td></tr></table></figure>

<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><blockquote>
<p> 进程：操作系统分配资源的基本单元</p>
</blockquote>
<p>进程的状态：</p>
<ul>
<li>就绪：准备完全，等待cpu</li>
<li>阻塞：等待某些条件满足，例如一个程序sleep了，此时就处于等待状态</li>
<li>运行：cpu正在执行其功能</li>
</ul>
<h3 id="进程，线程对比"><a href="#进程，线程对比" class="headerlink" title="进程，线程对比"></a>进程，线程对比</h3><p>功能</p>
<ul>
<li>进程，能够完成多任务，比如 在一台电脑上能同时运行多个软件</li>
<li>线程，能够完成多任务，比如一个QQ中的多个聊天窗口</li>
</ul>
<p>定义</p>
<ul>
<li>进程是系统进行资源分配和调度的一个独立单位</li>
<li>线程是进程的一个实体，是CPU调度和分配的基本单位，它是比进程更小的能独立的基本单位，线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源（如程序计数器，一组寄存器和栈），但是它可与同属一个进程的其他线程共享所拥有的全部资源</li>
</ul>
<p>区别</p>
<ul>
<li>一个程序至少有一个进程，一个进程至少有一个线程</li>
<li>线程的划分尺度小于进程（资源比进程少），使得多线程程序并发性高</li>
<li>进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率</li>
<li>线程不能够独立执行，必须依存在进程中</li>
<li>可以将进程理解为工厂中的一条流水线，而线程就是流水线上的工人</li>
</ul>
<p>优缺点</p>
<ul>
<li>线程执行开销小，但不利于资源的管理和保护；进程正相反</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        print(<span class="string">&#x27;执行浇花任务中...&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 使用多进程来执行多任务</span></span><br><span class="line">    p1 = Process(target=work1)</span><br><span class="line">    p1.start()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProcess</span>(<span class="params">Process</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, msg</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.msg = msg</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;text.txt&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                time.sleep(<span class="number">0.5</span>)</span><br><span class="line">                f.write(<span class="string">f&#x27;<span class="subst">&#123;self.msg&#125;</span>\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        MyProcess(<span class="string">&#x27;python&#x27;</span>).start()</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89)/" itemprop="url">测试开发进阶(三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:32+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(三)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-三"><a href="#测试开发进阶-三" class="headerlink" title="测试开发进阶(三)"></a>测试开发进阶(三)</h1><h3 id="生成器的三个方法"><a href="#生成器的三个方法" class="headerlink" title="生成器的三个方法"></a>生成器的三个方法</h3><ul>
<li><p>send()和生成器内部进行数据交互</p>
</li>
<li><p>close()关闭生成器</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gen = (i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2</span>))</span><br><span class="line">print(<span class="built_in">next</span>(gen)) <span class="comment"># 0</span></span><br><span class="line">print(<span class="built_in">next</span>(gen)) <span class="comment"># 2</span></span><br><span class="line">gen.close()</span><br><span class="line">print(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809.py&quot;, line 5, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    print(next(gen))</span></span><br><span class="line"><span class="string">StopIteration</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>throw()触发异常</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">gen = (i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2</span>))</span><br><span class="line">gen.throw(NameError, <span class="string">&#x27;name is xxx&#x27;</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809.py&quot;, line 2, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    gen.throw(NameError, &#x27;name is xxx&#x27;)</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809.py&quot;, line 1, in &lt;genexpr&gt;</span></span><br><span class="line"><span class="string">    gen = (i for i in range(0, 20, 2))</span></span><br><span class="line"><span class="string">NameError: name is xxx</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><blockquote>
<p>在函数中调用函数自身，我们把这种函数叫做递归函数</p>
</blockquote>
<blockquote>
<p>递归边界：递归的终止条件</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">n</span>):</span></span><br><span class="line">    print(n)</span><br><span class="line">    func(n - <span class="number">1</span>)</span><br><span class="line">func(<span class="number">10</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809_1.py&quot;, line 5, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    func(10)</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809_1.py&quot;, line 3, in func</span></span><br><span class="line"><span class="string">    func(n - 1)</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809_1.py&quot;, line 3, in func</span></span><br><span class="line"><span class="string">    func(n - 1)</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809_1.py&quot;, line 3, in func</span></span><br><span class="line"><span class="string">    func(n - 1)</span></span><br><span class="line"><span class="string">  [Previous line repeated 993 more times]</span></span><br><span class="line"><span class="string">  File &quot;/Users/zhongxin/Desktop/py/zx/03/0809_1.py&quot;, line 2, in func</span></span><br><span class="line"><span class="string">    print(n)</span></span><br><span class="line"><span class="string">RecursionError: maximum recursion depth exceeded while calling a Python object</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">n</span>):</span></span><br><span class="line">    print(n)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        func(n - <span class="number">1</span>)</span><br><span class="line">func1(<span class="number">10</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">10</span></span><br><span class="line"><span class="string">9</span></span><br><span class="line"><span class="string">8</span></span><br><span class="line"><span class="string">7</span></span><br><span class="line"><span class="string">6</span></span><br><span class="line"><span class="string">5</span></span><br><span class="line"><span class="string">4</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>实现一个累加函数</strong></p>
<ul>
<li>6累加的结果 6+5+4+3+2+1</li>
<li>10累加的结果 10+9+8+7+6+5+4+3+2+1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 1</span><br><span class="line">2 1+2</span><br><span class="line">3 1+2+3</span><br><span class="line">4 1+2+3+4</span><br><span class="line">5 1+2+3+4+5</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_add</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n + fun_add(n - <span class="number">1</span>)</span><br><span class="line">print(fun_add(<span class="number">6</span>))</span><br></pre></td></tr></table></figure>

<h4 id="查看最大递归次数"><a href="#查看最大递归次数" class="headerlink" title="查看最大递归次数"></a>查看最大递归次数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(sys.getrecursionlimit()) <span class="comment"># 默认1000 实际996</span></span><br><span class="line">sys.setrecursionlimit(<span class="number">3000</span>) <span class="comment"># 实际2996</span></span><br></pre></td></tr></table></figure>
<h4 id="使用装饰器缓存调用"><a href="#使用装饰器缓存调用" class="headerlink" title="使用装饰器缓存调用"></a>使用装饰器缓存调用</h4><p>调用同样的参数后，使用缓存，不会重新开辟空间</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/functools.html">https://docs.python.org/zh-cn/3/library/functools.html</a></p>
<p><code>@functools.lru_cache(maxsize=128, typed=False)</code></p>
<p>一个为函数提供缓存功能的装饰器，缓存 <em>maxsize</em> 组传入参数，在下次以相同参数调用时直接返回上一次的结果。用以节约高开销或I/O函数的调用时间。</p>
<p>由于使用了字典存储缓存，所以该函数的固定参数和关键字参数必须是可哈希的。</p>
</blockquote>
<p>一个题目：</p>
<blockquote>
<p>爬100个台阶，爬台阶每一步可以上一阶，两阶，或三阶，请问一共有多少种爬法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"></span><br><span class="line"><span class="meta">@lru_cache(<span class="params">maxsize=<span class="number">128</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func999</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> func999(n - <span class="number">1</span>) + func999(n - <span class="number">2</span>) + func999(n - <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">print(func999(<span class="number">100</span>)) <span class="comment"># 180396380815100901214157639</span></span><br></pre></td></tr></table></figure>

<h3 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h3><blockquote>
<p>一个函数的返回结果只依赖于它的参数，并且在执行过程里面没有副作用</p>
</blockquote>
<ul>
<li><p>变量都只在函数作用域内获取</p>
</li>
<li><p>不会产生<code>副作用(side effects)</code>,不会改变被传入的数据或其他数据(全局变量)</p>
<blockquote>
<p>函数的副作用：</p>
</blockquote>
</li>
<li><p><strong>相同的输入保证相同的输出</strong></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a * b + <span class="number">100</span></span><br><span class="line">print(func(<span class="number">11</span>, <span class="number">222</span>))</span><br></pre></td></tr></table></figure>

<h4 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h4><ul>
<li>map</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]  <span class="comment"># 每个元素*1000/2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> n * <span class="number">1000</span> / <span class="number">2</span></span><br><span class="line">res = <span class="built_in">map</span>(fun, li)</span><br><span class="line">print(res)  <span class="comment"># &lt;map object at 0x1033050f0&gt;</span></span><br><span class="line">print(<span class="built_in">list</span>(res)) <span class="comment"># [500.0, 1000.0, 1500.0, 2000.0, 2500.0, 3000.0, 3500.0]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>filter 过滤器</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> n &gt;= <span class="number">5</span></span><br><span class="line">res1 = <span class="built_in">filter</span>(func1,li)</span><br><span class="line">print(res1) <span class="comment"># &lt;filter object at 0x103b9f390&gt;</span></span><br><span class="line">print(<span class="built_in">list</span>(res1)) <span class="comment"># [5, 6, 7]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>zip 聚合打包</li>
</ul>
<p>长度不一样，以最短为准</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>]</span><br><span class="line">data = [<span class="string">&#x27;zx&#x27;</span>, <span class="number">26</span>, <span class="string">&#x27;男&#x27;</span>]</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(title,data))) <span class="comment"># [(&#x27;name&#x27;, &#x27;zx&#x27;), (&#x27;age&#x27;, 26), (&#x27;gender&#x27;, &#x27;男&#x27;)]</span></span><br><span class="line">print(<span class="built_in">dict</span>(<span class="built_in">zip</span>(title,data))) <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zx&#x27;, &#x27;age&#x27;: 26, &#x27;gender&#x27;: &#x27;男&#x27;&#125;</span></span><br><span class="line">num = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(title, data, num))) <span class="comment"># [(&#x27;name&#x27;, &#x27;zx&#x27;, 1), (&#x27;age&#x27;, 26, 2), (&#x27;gender&#x27;, &#x27;男&#x27;, 3)]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>关键字：<strong>lambda</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> 参数：表达式(返回值)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = (<span class="keyword">lambda</span> n: n * <span class="number">2</span>)(<span class="number">4</span>)</span><br><span class="line">print(res) <span class="comment"># 8</span></span><br></pre></td></tr></table></figure>

<h3 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 偏函数之前的写法</span></span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x:x&gt;<span class="number">5</span>,li))) <span class="comment"># [6, 7, 8, 9, 10]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line">myfilter = partial(<span class="built_in">filter</span>, <span class="keyword">lambda</span> x: x &gt; <span class="number">5</span>)</span><br><span class="line">print(<span class="built_in">list</span>(myfilter(li))) <span class="comment"># [6, 7, 8, 9, 10]</span></span><br></pre></td></tr></table></figure>

<p>一个简单的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">    print(a, b, c)</span><br><span class="line"></span><br><span class="line">func1(<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>)</span><br><span class="line">func1(<span class="number">11</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>)</span><br><span class="line">func1(<span class="number">11</span>, <span class="string">&#x27;dd&#x27;</span>, <span class="string">&#x27;ee&#x27;</span>)</span><br><span class="line"></span><br><span class="line">myfilter1 = partial(func1, <span class="number">11</span>)</span><br><span class="line">myfilter1(<span class="number">22</span>, <span class="number">33</span>)</span><br><span class="line">myfilter1(<span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>)</span><br><span class="line">myfilter1(<span class="string">&#x27;dd&#x27;</span>, <span class="string">&#x27;ee&#x27;</span>)</span><br><span class="line"></span><br><span class="line">myfilter2 = partial(func1, b=<span class="number">22</span>)</span><br><span class="line">myfilter2(a=<span class="number">11</span>, c=<span class="string">&#x27;cc&#x27;</span>) <span class="comment"># 11 22 cc</span></span><br><span class="line"></span><br><span class="line">myfilter2 = partial(func1, a=<span class="number">11</span>, b=<span class="number">22</span>)</span><br><span class="line">myfilter2(c=<span class="string">&#x27;cc&#x27;</span>) <span class="comment"># 11 22 cc</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%83)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%83)/" itemprop="url">测试开发进阶(七)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:32+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%83)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(七)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-七"><a href="#测试开发进阶-七" class="headerlink" title="测试开发进阶(七)"></a>测试开发进阶(七)</h1><h2 id="元类"><a href="#元类" class="headerlink" title="元类"></a>元类</h2><h3 id="新式类-旧式类"><a href="#新式类-旧式类" class="headerlink" title="新式类 旧式类"></a>新式类 旧式类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在python3中两个类定义没有任何区别，都是继承于object</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在python2 中Myclass称为旧式类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span>:</span></span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在python2 中Myclass1称为新式类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass1</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在python2中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c = Myclass()</span><br><span class="line">c1 = Myclass1()</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(c)  <span class="comment"># &lt;type &#x27;instance&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(c1)  <span class="comment"># &lt;class &#x27;__main__.Myclass1&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(Myclass)  <span class="comment"># &lt;type &#x27;classobj&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(Myclass1)  <span class="comment"># &lt;class &#x27;type&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在python3中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c = Myclass()</span><br><span class="line">c1 = Myclass1()</span><br><span class="line">print(<span class="built_in">type</span>(c))  <span class="comment"># &lt;class &#x27;__main__.Myclass&#x27;&gt;</span></span><br><span class="line">print(<span class="built_in">type</span>(c1))  <span class="comment"># &lt;class &#x27;__main__.Myclass1&#x27;&gt;</span></span><br><span class="line">print(<span class="built_in">type</span>(Myclass))  <span class="comment"># &lt;class &#x27;type&#x27;&gt;</span></span><br><span class="line">print(<span class="built_in">type</span>(Myclass1))  <span class="comment"># &lt;class &#x27;type&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用type动态创建类"><a href="#使用type动态创建类" class="headerlink" title="使用type动态创建类"></a>使用type动态创建类</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>(object_or_name, bases, <span class="built_in">dict</span>)</span><br><span class="line">type(object) -&gt; the object&#x27;s type</span><br><span class="line">type(name, bases, dict) -&gt; a new type</span><br></pre></td></tr></table></figure>

<p><code>type(name, bases, dict) </code></p>
<ul>
<li>name:类名</li>
<li>base:所继承的父类元祖</li>
<li>dict:字典(包含了属性和方法)</li>
</ul>
<p>查看type的init方法</p>
<p>what也就是类名，必须要传入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">cls, what, bases=<span class="literal">None</span>, <span class="built_in">dict</span>=<span class="literal">None</span></span>):</span> <span class="comment"># known special case of type.__init__</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    type(object_or_name, bases, dict)</span></span><br><span class="line"><span class="string">    type(object) -&gt; the object&#x27;s type</span></span><br><span class="line"><span class="string">    type(name, bases, dict) -&gt; a new type</span></span><br><span class="line"><span class="string">    # (copied from class doc)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>不传入bases和dict创建一个类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Myclass = <span class="built_in">type</span>(<span class="string">&#x27;Myclass&#x27;</span>)</span><br><span class="line">print(Myclass)  <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line">str1 = Myclass(<span class="string">&#x27;124&#x27;</span>)</span><br><span class="line">print(str1)  <span class="comment"># 124</span></span><br><span class="line">print(<span class="built_in">type</span>(str1))  <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line">print(<span class="built_in">type</span>(Myclass))  <span class="comment"># &lt;class &#x27;type&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<p>传入bases和dict创建一个类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">self</span>):</span></span><br><span class="line">    print(<span class="string">f&#x27;name:<span class="subst">&#123;self.name&#125;</span>,age:<span class="subst">&#123;self.age&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;zx&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>, <span class="string">&#x27;func&#x27;</span>: func&#125;</span><br><span class="line">Myclass1 = <span class="built_in">type</span>(<span class="string">&#x27;Myclass1&#x27;</span>, (<span class="built_in">object</span>,), dict1)</span><br><span class="line">print(Myclass1)  <span class="comment"># &lt;class &#x27;__main__.Myclass1&#x27;&gt;</span></span><br><span class="line">print(<span class="built_in">type</span>(Myclass1))  <span class="comment"># &lt;class &#x27;type&#x27;&gt;</span></span><br><span class="line">m1 = Myclass1()</span><br><span class="line">print(m1.name)  <span class="comment"># zx</span></span><br><span class="line">print(m1.age)  <span class="comment"># 18</span></span><br><span class="line">m1.func() <span class="comment"># name:zx,age:18</span></span><br></pre></td></tr></table></figure>

<h2 id="对象引用"><a href="#对象引用" class="headerlink" title="对象引用"></a>对象引用</h2><h3 id="引用计数"><a href="#引用计数" class="headerlink" title="引用计数"></a>引用计数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span> <span class="comment"># a指向10，计数1</span></span><br><span class="line">b = a <span class="comment"># b引用a，a引用10，实际上b也引用10，计数2</span></span><br></pre></td></tr></table></figure>

<p>引用计数减少</p>
<ul>
<li>对象的别名被显式销毁</li>
<li>对象的一个别名被赋值给其他对象（a=10变为a=100，10的计数-1）</li>
<li>对象从容器中移除，或容器销毁（对象从列表中移除，列表被销毁）</li>
<li>一个引用离开了它的作用域（调用函数时，传入的参数，在函数结束的时候销毁）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(sys.getrefcount(<span class="number">9999</span>)) <span class="comment"># 3</span></span><br><span class="line">a = <span class="number">9999</span></span><br><span class="line">print(sys.getrefcount(<span class="number">9999</span>)) <span class="comment"># 4</span></span><br><span class="line">b = a</span><br><span class="line">print(sys.getrefcount(<span class="number">9999</span>)) <span class="comment"># 5</span></span><br></pre></td></tr></table></figure>

<h3 id="内置函数is和id"><a href="#内置函数is和id" class="headerlink" title="内置函数is和id"></a>内置函数is和id</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">10</span></span><br><span class="line">print(a <span class="keyword">is</span> b)  <span class="comment"># True</span></span><br><span class="line">print(<span class="built_in">id</span>(a), <span class="built_in">id</span>(b))  <span class="comment"># 4305020224 4305020224</span></span><br><span class="line"></span><br><span class="line">li1 = [<span class="number">11</span>, <span class="number">22</span>]</span><br><span class="line">li2 = li1</span><br><span class="line">li3 = [<span class="number">11</span>, <span class="number">22</span>]</span><br><span class="line">print(li1 <span class="keyword">is</span> li2)  <span class="comment"># True</span></span><br><span class="line">print(li1 <span class="keyword">is</span> li3)  <span class="comment"># False</span></span><br><span class="line">print(<span class="built_in">id</span>(li1), <span class="built_in">id</span>(li2), <span class="built_in">id</span>(li3))  <span class="comment"># 4326199176 4326199176 4326199240</span></span><br></pre></td></tr></table></figure>

<h3 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h3><ul>
<li>浅拷贝</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">li1 = li.copy()</span><br><span class="line">li2 = li</span><br><span class="line"><span class="comment"># 4326199176 4326199240 4326199176</span></span><br><span class="line">print(<span class="built_in">id</span>(li), <span class="built_in">id</span>(li1), <span class="built_in">id</span>(li2))</span><br><span class="line">li.append(<span class="number">33</span>)</span><br><span class="line">print(li, li1, li2)  <span class="comment"># [1, 2, 3, 33] [1, 2, 3] [1, 2, 3, 33]</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">li = [<span class="number">11</span>, <span class="number">22</span>, a]</span><br><span class="line">li1 = li.copy()</span><br><span class="line">print(li, li1)  <span class="comment"># [11, 22, [1, 2]] [11, 22, [1, 2]]</span></span><br><span class="line"><span class="comment"># 4348084936 4632599496</span></span><br><span class="line">print(<span class="built_in">id</span>(li), <span class="built_in">id</span>(li1))  </span><br><span class="line">a.append(<span class="number">3</span>)</span><br><span class="line">print(li, li1)  <span class="comment"># [11, 22, [1, 2, 3]] [11, 22, [1, 2, 3]]</span></span><br><span class="line">print(<span class="built_in">id</span>(li), <span class="built_in">id</span>(li1))  <span class="comment"># 4354376392 4632599560</span></span><br></pre></td></tr></table></figure>

<ul>
<li>深拷贝</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">li2 = copy.deepcopy(li)</span><br><span class="line"><span class="comment"># 4339696328 4632595208 4326199240</span></span><br><span class="line">print(<span class="built_in">id</span>(li), <span class="built_in">id</span>(li1), <span class="built_in">id</span>(li2))</span><br><span class="line"><span class="comment"># [11, 22, [1, 2, 3]] [11, 22, [1, 2, 3]] [11, 22, [1, 2, 3]]</span></span><br><span class="line">print(li, li1, li2)</span><br><span class="line">a.remove(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 4339696328 4632595208 4326199240</span></span><br><span class="line">print(<span class="built_in">id</span>(li), <span class="built_in">id</span>(li1), <span class="built_in">id</span>(li2))</span><br><span class="line"><span class="comment"># [11, 22, [1, 2]] [11, 22, [1, 2]] [11, 22, [1, 2, 3]]</span></span><br><span class="line">print(li, li1, li2)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81)/" itemprop="url">测试开发进阶(三十)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:32+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(三十)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-三十"><a href="#测试开发进阶-三十" class="headerlink" title="测试开发进阶(三十)"></a>测试开发进阶(三十)</h1><p><strong>欢迎关注我的公众号「测试游记」</strong></p>
<h2 id="生成API文档"><a href="#生成API文档" class="headerlink" title="生成API文档"></a>生成API文档</h2><ul>
<li>coreapi</li>
<li>Pygments</li>
<li>Markdown</li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install coreapi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install Pygments</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install Markdown</span></span><br></pre></td></tr></table></figure>

<h3 id="使用coreapi"><a href="#使用coreapi" class="headerlink" title="使用coreapi"></a>使用coreapi</h3><ul>
<li>DRF框架(&gt;3.10)需要添加</li>
</ul>
<p>指定用于支持coreapi的shcema</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">REST_FRAMEWORK = &#123;</span><br><span class="line">    <span class="string">&#x27;DEFAULT_SCHEMA_CLASS&#x27;</span>: <span class="string">&#x27;rest_framework.schemas.coreapi.AutoSchema&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>LearnDjango/urls.py</code>添加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include, re_path</span><br><span class="line"><span class="keyword">from</span> rest_framework.documentation <span class="keyword">import</span> include_docs_urls</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, include(<span class="string">&#x27;interfaces.urls&#x27;</span>)),</span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, include(<span class="string">&#x27;projects.urls&#x27;</span>)),</span><br><span class="line">    path(<span class="string">&#x27;docs/&#x27;</span>, include_docs_urls(title=<span class="string">&#x27;测试平台接口文档&#x27;</span>,</span><br><span class="line">                                    description=<span class="string">&#x27;这是一个接口文档平台&#x27;</span>))</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="查看效果"><a href="#查看效果" class="headerlink" title="查看效果"></a>查看效果</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b7k5bmvcj31b30u0e2c.jpg" alt="接口文档效果"></p>
<h3 id="添加注释"><a href="#添加注释" class="headerlink" title="添加注释"></a>添加注释</h3><ul>
<li>单一方法的视图</li>
</ul>
<p>直接给视图类添加注释</p>
<ul>
<li>多个方法的视图</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProjectsListCreateViewSet</span>(<span class="params">ListCreateAPIView</span>):</span></span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  get:</span></span><br><span class="line"><span class="string">  返回所有项目信息</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  post:</span></span><br><span class="line"><span class="string">  新建项目</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>视图集</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProjectsViewSet</span>(<span class="params">viewsets.ModelViewSet</span>):</span></span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  create:</span></span><br><span class="line"><span class="string">  创建项目</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  retrieve:</span></span><br><span class="line"><span class="string">  获取项目详情数据</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  update:</span></span><br><span class="line"><span class="string">  完整更新项目</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  partial_update:</span></span><br><span class="line"><span class="string">  部分更新项目</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  destroy:</span></span><br><span class="line"><span class="string">  删除项目</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  list:</span></span><br><span class="line"><span class="string">  获取项目列表数据</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  names:</span></span><br><span class="line"><span class="string">  获取所有项目名称</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  interfaces:</span></span><br><span class="line"><span class="string">  获取指定项目的所有接口数据</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b7sm8rrzj31b30u07qg.jpg" alt="注释效果"></p>
<h3 id="使用drf-yasg"><a href="#使用drf-yasg" class="headerlink" title="使用drf-yasg"></a>使用drf-yasg</h3><p>支持swagger</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install drf-yasg</span></span><br></pre></td></tr></table></figure>

<p>添加到<code>INSTALLED_APPS</code>中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&#x27;drf_yasg&#x27;</span></span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在<code>LearnDjango/urls.py</code>中<strong>添加</strong>以下部分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include, re_path</span><br><span class="line"><span class="keyword">from</span> rest_framework.documentation <span class="keyword">import</span> include_docs_urls</span><br><span class="line"><span class="keyword">from</span> drf_yasg.views <span class="keyword">import</span> get_schema_view</span><br><span class="line"><span class="keyword">from</span> drf_yasg <span class="keyword">import</span> openapi</span><br><span class="line"></span><br><span class="line">schema_view = get_schema_view(</span><br><span class="line">    openapi.Info(</span><br><span class="line">        title=<span class="string">&#x27;API接口文档&#x27;</span>,</span><br><span class="line">        default_version=<span class="string">&#x27;v1&#x27;</span>,</span><br><span class="line">        description=<span class="string">&#x27;这是一个接口文档平台&#x27;</span>,</span><br><span class="line">        <span class="comment"># terms_of_service=&#x27;http://api.xxx.com&#x27;,</span></span><br><span class="line">        contact=openapi.Contact(email=<span class="string">&#x27;490336534@qq.com&#x27;</span>),</span><br><span class="line">        license=openapi.License(name=<span class="string">&#x27;BSD License&#x27;</span>)</span><br><span class="line">    ),</span><br><span class="line">    public=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    re_path(<span class="string">r&#x27;^swagger(?P&lt;format&gt;\.json|\.yaml)$&#x27;</span>,</span><br><span class="line">            schema_view.without_ui(cache_timeout=<span class="number">0</span>), name=<span class="string">&#x27;schema-json&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;swagger/&#x27;</span>, schema_view.with_ui(<span class="string">&#x27;swagger&#x27;</span>, cache_timeout=<span class="number">0</span>), name=<span class="string">&#x27;schema-swagger&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;redoc/&#x27;</span>, schema_view.with_ui(<span class="string">&#x27;redoc&#x27;</span>, cache_timeout=<span class="number">0</span>), name=<span class="string">&#x27;schema-redoc&#x27;</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>访问：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8000/swagger.json</span><br></pre></td></tr></table></figure>

<p>返回json格式数据</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b88kx3uij31b30u0e5b.jpg" alt="返回json数据"></p>
<p>访问</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8000/swagger.yaml</span><br></pre></td></tr></table></figure>

<p>会自动下载一份yaml文件</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b8aj525lj31b30u01j0.jpg" alt="yaml文件"></p>
<p>访问</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8000/swagger/</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b8b3poyaj31b30u0qlo.jpg" alt="swagger接口文档"></p>
<p>访问</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8000/redoc/</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b8cxvbb8j31b30u0qji.jpg" alt="redoc文档"></p>
<h2 id="开始项目"><a href="#开始项目" class="headerlink" title="开始项目"></a>开始项目</h2><h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8b9cfbiioj30jm0c475d.jpg" alt="创建项目"></p>
<h3 id="添加日志器"><a href="#添加日志器" class="headerlink" title="添加日志器"></a>添加日志器</h3><p><code>ApiTest/settings.py</code>中添加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">LOGGING = &#123;</span><br><span class="line">    <span class="string">&#x27;version&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;disable_exising_loggers&#x27;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&#x27;formatters&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;verbose&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;format&#x27;</span>: <span class="string">&#x27;%(asctime)s - [%(levelname)s] - [msg]%(message)s&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;simple&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;format&#x27;</span>: <span class="string">&#x27;%(asctime)s - [%(levelname)s] - %(name)s - [msg]%(message)s - [%(filename)s:%(lineno)d ]&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;filters&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;require_debug_true&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;()&#x27;</span>: <span class="string">&#x27;django.utils.log.RequireDebugTrue&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;handlers&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;console&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;level&#x27;</span>: <span class="string">&#x27;DEBUG&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;filters&#x27;</span>: [<span class="string">&#x27;require_debug_true&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;logging.StreamHandler&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;formatter&#x27;</span>: <span class="string">&#x27;simple&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;file&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;level&#x27;</span>: <span class="string">&#x27;INFO&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;logging.handlers.RotatingFileHandler&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;filename&#x27;</span>: os.path.join(BASE_DIR, <span class="string">&#x27;logs/mytest.log&#x27;</span>),  <span class="comment"># 日志文件的位置</span></span><br><span class="line">            <span class="string">&#x27;maxBytes&#x27;</span>: <span class="number">100</span> * <span class="number">1024</span> * <span class="number">1024</span>,</span><br><span class="line">            <span class="string">&#x27;backupCount&#x27;</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="string">&#x27;formatter&#x27;</span>: <span class="string">&#x27;verbose&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;loggers&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;mytest&#x27;</span>: &#123;  <span class="comment"># 定义了一个名为mytest的日志器</span></span><br><span class="line">            <span class="string">&#x27;handlers&#x27;</span>: [<span class="string">&#x27;console&#x27;</span>, <span class="string">&#x27;file&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;propagate&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">            <span class="string">&#x27;level&#x27;</span>: <span class="string">&#x27;DEBUG&#x27;</span>  <span class="comment"># 日志器接收的最低日志级别</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="用户模块"><a href="#用户模块" class="headerlink" title="用户模块"></a>用户模块</h3><h4 id="创建user子应用"><a href="#创建user子应用" class="headerlink" title="创建user子应用"></a>创建user子应用</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manage.py@ApiTest &gt; startapp user</span><br></pre></td></tr></table></figure>

<h4 id="添加INSTALLED-APPS"><a href="#添加INSTALLED-APPS" class="headerlink" title="添加INSTALLED_APPS"></a>添加INSTALLED_APPS</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;user.apps.UserConfig&#x27;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%80)/" itemprop="url">测试开发进阶(三十一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:32+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%80)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(三十一)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-三十一"><a href="#测试开发进阶-三十一" class="headerlink" title="测试开发进阶(三十一)"></a>测试开发进阶(三十一)</h1><h2 id="用户模块"><a href="#用户模块" class="headerlink" title="用户模块"></a>用户模块</h2><h3 id="Json-Web-Token认证"><a href="#Json-Web-Token认证" class="headerlink" title="Json Web Token认证"></a>Json Web Token认证</h3><p>最常见的认证机制</p>
<ul>
<li>Session认证</li>
<li>Token认证</li>
</ul>
<h4 id="Session认证"><a href="#Session认证" class="headerlink" title="Session认证"></a>Session认证</h4><p>保持在服务端，增加服务器开销</p>
<p>分布式架构中，难以维持Session会话同步</p>
<p>CSRF攻击风险(跨站请求)</p>
<h4 id="Token认证"><a href="#Token认证" class="headerlink" title="Token认证"></a>Token认证</h4><p>保存在客户端</p>
<p>跨语言，跨平台</p>
<p>扩展性强</p>
<p>鉴权性能高</p>
<h3 id="JWT（Json-Web-Token）"><a href="#JWT（Json-Web-Token）" class="headerlink" title="JWT（Json Web Token）"></a>JWT（Json Web Token）</h3><p>由三部分组成</p>
<ul>
<li>header</li>
</ul>
<p>声明类型</p>
<p>声明加密算法</p>
<p>base64加密，可以解密</p>
<ul>
<li>playload</li>
</ul>
<p>存放过期时间，签发用户等</p>
<p>可以添加用户的非敏感信息</p>
<p>base64加密，可以解密</p>
<ul>
<li>signature</li>
</ul>
<p>由三部分组成</p>
<p>使用base64加密之后的header + . + 使用base64加密之后的playload + 使用HS256算法加密，同时secret加盐处理</p>
<h3 id="安装djangorestframework-jwt"><a href="#安装djangorestframework-jwt" class="headerlink" title="安装djangorestframework-jwt"></a>安装djangorestframework-jwt</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install djangorestframework-jwt</span></span><br></pre></td></tr></table></figure>

<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>在<code>setting.py</code>中添加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">REST_FRAMEWORK = &#123;</span><br><span class="line">    <span class="string">&#x27;DEFAULT_AUTHENTICATION_CLASSES&#x27;</span>: [</span><br><span class="line">        <span class="comment"># 使用JWT Token认证</span></span><br><span class="line">        <span class="string">&#x27;rest_framework_jwt.authentication.JSONWebTokenAuthentication&#x27;</span>,</span><br><span class="line">        <span class="comment"># Basic类型的认证（账号和密码）</span></span><br><span class="line">        <span class="string">&#x27;rest_framework.authentication.SessionAuthentication&#x27;</span>,</span><br><span class="line">        <span class="comment"># Session会话认证</span></span><br><span class="line">        <span class="string">&#x27;rest_framework.authentication.BasicAuthentication&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="添加路由"><a href="#添加路由" class="headerlink" title="添加路由"></a>添加路由</h3><p>用户处：<code>user/urls.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> rest_framework_jwt.views <span class="keyword">import</span> obtain_jwt_token</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;login/&#x27;</span>, obtain_jwt_token),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>主路由：</p>
<p><code>ApiTest/urls.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;users/&#x27;</span>, include(<span class="string">&#x27;user.urls&#x27;</span>))</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>不登录的访问</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8erahlowrj31b30u0tqr.jpg" alt="不登录的访问"></p>
<p>登录后的返回内容</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8erod3881j31wi0f80tr.jpg" alt="登录"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8erozathgj31b30u0dyd.jpg" alt="获取到token"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP <span class="number">200</span> OK</span><br><span class="line">Allow: POST, OPTIONS</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Vary: Accept</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;token&quot;</span>: <span class="string">&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6Inpob25neGluIiwiZXhwIjoxNTcyMzA5MzQ2LCJlbWFpbCI6IjQ5MDMzNjUzNEBxcS5jb20ifQ.ZDEeBAgSuPyvh1KBnF1sSY9w22guSRHXm8sbgqEWusg&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">base64.b64decode(<span class="string">&#x27;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9&#x27;</span>)</span><br><span class="line"><span class="comment"># b&#x27;&#123;&quot;typ&quot;:&quot;JWT&quot;,&quot;alg&quot;:&quot;HS256&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>认证过期时间</p>
<p><code>./site-packages/rest_framework_jwt/settings.py</code></p>
<p>第40行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;JWT_EXPIRATION_DELTA&#x27;</span>: datetime.timedelta(seconds=<span class="number">300</span>),</span><br></pre></td></tr></table></figure>

<p>Token默认过期时间5分钟</p>
<p>自行修改过期时间<code>ApiTest/settings.py</code></p>
<p>过期时间为1天</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JWT_AUTH = &#123;</span><br><span class="line">    <span class="string">&#x27;JWT_EXPIRATION_DELTA&#x27;</span>: datetime.timedelta(days=<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请求Token 头</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;JWT_AUTH_HEADER_PREFIX&#x27;</span>: <span class="string">&#x27;JWT&#x27;</span>,</span><br></pre></td></tr></table></figure>

<h3 id="使用httpie发起包含token的内容"><a href="#使用httpie发起包含token的内容" class="headerlink" title="使用httpie发起包含token的内容"></a>使用httpie发起包含token的内容</h3><p>安装<code>httpie-jwt-auth</code>插件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> JWT_AUTH_TOKEN=<span class="string">&#x27;你的token&#x27;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> JWT_AUTH_PREFIX=<span class="string">&#x27;JWT&#x27;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> http -A jwt :8000/projects/ page==2 size==2</span></span><br></pre></td></tr></table></figure>

<h3 id="修改载荷"><a href="#修改载荷" class="headerlink" title="修改载荷"></a>修改载荷</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jwt_response_payload_handler</span>(<span class="params">token, user=<span class="literal">None</span>, request=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns the response data for both the login and refresh views.</span></span><br><span class="line"><span class="string">    Override to return a custom response such as including the</span></span><br><span class="line"><span class="string">    serialized representation of the User.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Example:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    def jwt_response_payload_handler(token, user=None, request=None):</span></span><br><span class="line"><span class="string">        return &#123;</span></span><br><span class="line"><span class="string">            &#x27;token&#x27;: token,</span></span><br><span class="line"><span class="string">            &#x27;user&#x27;: UserSerializer(user, context=&#123;&#x27;request&#x27;: request&#125;).data</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&#x27;token&#x27;</span>: token</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>在<code>utils/jwt_handler.py</code>重写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jwt_response_payload_handler</span>(<span class="params">token, user=<span class="literal">None</span>, request=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&#x27;token&#x27;</span>: token,</span><br><span class="line">        <span class="string">&#x27;user_id&#x27;</span>: user.<span class="built_in">id</span>,</span><br><span class="line">        <span class="string">&#x27;username&#x27;</span>: user.username,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JWT_AUTH = &#123;</span><br><span class="line">    <span class="string">&#x27;JWT_EXPIRATION_DELTA&#x27;</span>: datetime.timedelta(days=<span class="number">1</span>),</span><br><span class="line">    <span class="string">&#x27;JWT_PAYLOAD_GET_USERNAME_HANDLER&#x27;</span>: <span class="string">&#x27;utils.jwt_handler.jwt_response_payload_handler&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Django自带的用户模型"><a href="#Django自带的用户模型" class="headerlink" title="Django自带的用户模型"></a>Django自带的用户模型</h3><p><code>django.contrib.auth.models.User</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8fgqdhr9xj31s80ne40z.jpg" alt="用户模型"></p>
<p>查看settings.py可以发现，默认注册了<code>django.contrib.auth</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8fgreca8lj30ou0egtaj.jpg" alt="注册的APP"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8fgsd4egdj326y0iqq6x.jpg" alt="数据库中的用户部分"></p>
<h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><ul>
<li>用户名（6-20位，不重复）</li>
<li>邮箱（符合邮箱格式）</li>
<li>密码（6-20位，和确认密码一致）</li>
<li>确认密码（6-20位，和密码一致）</li>
</ul>
<p><code>user/serializers.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterSerializer</span>(<span class="params">serializers.ModelSerializer</span>):</span></span><br><span class="line">    password_conform = serializers.CharField(label=<span class="string">&#x27;确认密码&#x27;</span>,</span><br><span class="line">                                             min_length=<span class="number">6</span>,</span><br><span class="line">                                             max_length=<span class="number">20</span>,</span><br><span class="line">                                             write_only=<span class="literal">True</span>,</span><br><span class="line">                                             help_text=<span class="string">&#x27;确认密码&#x27;</span>,</span><br><span class="line">                                             error_messages=&#123;<span class="string">&#x27;min_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的确认密码&#x27;</span>,</span><br><span class="line">                                                             <span class="string">&#x27;max_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的确认密码&#x27;</span>&#125;</span><br><span class="line">                                             )</span><br><span class="line">    token = serializers.CharField(label=<span class="string">&#x27;生成token&#x27;</span>,</span><br><span class="line">                                  read_only=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = User</span><br><span class="line">        fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;username&#x27;</span>, <span class="string">&#x27;password&#x27;</span>, <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;password_conform&#x27;</span>, <span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;username&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;label&#x27;</span>: <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;help_text&#x27;</span>: <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;min_length&#x27;</span>: <span class="number">6</span>,</span><br><span class="line">                <span class="string">&#x27;max_length&#x27;</span>: <span class="number">20</span>,</span><br><span class="line">                <span class="string">&#x27;error_messages&#x27;</span>: &#123;<span class="string">&#x27;min_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的用户名&#x27;</span>,</span><br><span class="line">                                   <span class="string">&#x27;max_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的用户名&#x27;</span>&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;label&#x27;</span>: <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;help_text&#x27;</span>: <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;write_only&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">                <span class="string">&#x27;required&#x27;</span>: <span class="literal">True</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;label&#x27;</span>: <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;help_text&#x27;</span>: <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;write_only&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">                <span class="string">&#x27;min_length&#x27;</span>: <span class="number">6</span>,</span><br><span class="line">                <span class="string">&#x27;max_length&#x27;</span>: <span class="number">20</span>,</span><br><span class="line">                <span class="string">&#x27;error_messages&#x27;</span>: &#123;<span class="string">&#x27;min_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的密码&#x27;</span>,</span><br><span class="line">                                   <span class="string">&#x27;max_length&#x27;</span>: <span class="string">&#x27;仅允许6～20个字符的密码&#x27;</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span>(<span class="params">self, validated_data</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><code>user/urls.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> rest_framework_jwt.views <span class="keyword">import</span> obtain_jwt_token</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;login/&#x27;</span>, obtain_jwt_token),</span><br><span class="line">    path(<span class="string">&#x27;register/&#x27;</span>, views.RegisterView.as_view()),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><code>user/views.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.generics <span class="keyword">import</span> CreateAPIView</span><br><span class="line"><span class="keyword">from</span> rest_framework_jwt.authentication <span class="keyword">import</span> JSONWebTokenAuthentication</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> user.serializers <span class="keyword">import</span> RegisterSerializer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterView</span>(<span class="params">CreateAPIView</span>):</span></span><br><span class="line">    serializer_class = RegisterSerializer</span><br><span class="line">    authentication_classes = (JSONWebTokenAuthentication,)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%83)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="测试游记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%83)/" itemprop="url">测试开发进阶(三十七)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-03T20:10:32+08:00">
                2021-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/03/03/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6(%E4%B8%89%E5%8D%81%E4%B8%83)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/03/03/测试开发进阶(三十七)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试开发进阶-三十七"><a href="#测试开发进阶-三十七" class="headerlink" title="测试开发进阶(三十七)"></a>测试开发进阶(三十七)</h1><h2 id="报告模块"><a href="#报告模块" class="headerlink" title="报告模块"></a>报告模块</h2><h3 id="报告下载-中文文件"><a href="#报告下载-中文文件" class="headerlink" title="报告下载-中文文件"></a>报告下载-中文文件</h3><p>下载时候如果报告名中有中文，则可能出现乱码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.utils.encoding <span class="keyword">import</span> escape_uri_path</span><br><span class="line">report_path_final = escape_uri_path(report_filename)  <span class="comment"># 中文乱码的解决办法</span></span><br></pre></td></tr></table></figure>

<p>使用<code>escape_uri_path</code>可以解决</p>
<h3 id="报告展示"><a href="#报告展示" class="headerlink" title="报告展示"></a>报告展示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">retrieve</span>(<span class="params">self, request, *args, **kwargs</span>):</span></span><br><span class="line">    instance = self.get_object()</span><br><span class="line">    serializer = self.get_serializer(instance)</span><br><span class="line">    datas = serializer.data</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        datas[<span class="string">&#x27;summary&#x27;</span>] = json.loads(datas[<span class="string">&#x27;summary&#x27;</span>], encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> Response(datas)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vnb9y2ekj31b30u07pc.jpg" alt="image-20191112225407620"></p>
<h2 id="配置模块"><a href="#配置模块" class="headerlink" title="配置模块"></a>配置模块</h2><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vo4qt74bj31b30u07mt.jpg" alt="配置管理"></p>
<p>配置管理页面展示需要展示</p>
<ul>
<li><code>配置名称</code></li>
<li><code>所属项目</code></li>
<li><code>所属接口</code></li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vo6d32ecj31hc05gmyl.jpg" alt="configures"></p>
<p>其中：<code>配置信息</code>里面的外键是<code>所属接口</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vo77nnttj31fg0c00w7.jpg" alt="interface"></p>
<p><code>接口</code>里面的外键是<code>所属项目</code></p>
<p>所以要在序列化器中处理掉这里面的关系</p>
<h3 id="序列化器"><a href="#序列化器" class="headerlink" title="序列化器"></a>序列化器</h3><p><code>InterfacesAnotherSerializer</code>拿到</p>
<ul>
<li>项目名称</li>
<li>项目ID</li>
<li>接口ID</li>
</ul>
<p><code>ConfiguresSerializer</code>里面用<code>InterfacesAnotherSerializer</code>拿到的东西进行展示</p>
<p>注意：<code>create</code>中<code>validated_data</code>拿到的是一个对象，需要</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">interface_dict = validated_data.pop(<span class="string">&#x27;interface&#x27;</span>)</span><br><span class="line">validated_data[<span class="string">&#x27;interface_id&#x27;</span>] = interface_dict[<span class="string">&#x27;iid&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>将它变成对应的ID</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vobwvyr3j31b30u01hk.jpg" alt="image-20191112232930521"></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;count&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">&quot;next&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">&quot;previous&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;登录接口配置_自动化测试平台项目&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;interface&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;登录接口_自动化测试平台项目&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;project&quot;</span>: <span class="string">&quot;自动化测试平台项目&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;柠檬小姐姐&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;查询项目列表配置_前程贷项目&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;interface&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;查看项目列表接口_前程贷P2P金融项目&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;project&quot;</span>: <span class="string">&quot;前程贷P2P金融项目&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;柠檬小姐姐&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;total_pages&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;current_page_num&quot;</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> interfaces.models <span class="keyword">import</span> Interfaces</span><br><span class="line"><span class="keyword">from</span> utils.validates <span class="keyword">import</span> whether_existed_project_id, whether_existed_interface_id</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Configures</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InterfacesAnotherSerializer</span>(<span class="params">serializers.ModelSerializer</span>):</span></span><br><span class="line">    project = serializers.StringRelatedField(help_text=<span class="string">&#x27;项目名称&#x27;</span>)</span><br><span class="line">    <span class="comment"># 项目ID</span></span><br><span class="line">    pid = serializers.IntegerField(write_only=<span class="literal">True</span>, validators=[whether_existed_project_id], help_text=<span class="string">&#x27;项目ID&#x27;</span>)</span><br><span class="line">    <span class="comment"># 接口ID</span></span><br><span class="line">    iid = serializers.IntegerField(write_only=<span class="literal">True</span>, validators=[whether_existed_interface_id], help_text=<span class="string">&#x27;接口ID&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Interfaces</span><br><span class="line">        fields = (<span class="string">&#x27;iid&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;project&#x27;</span>, <span class="string">&#x27;pid&#x27;</span>)</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span>:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&#x27;read_only&#x27;</span>: <span class="literal">True</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate</span>(<span class="params">self, attrs</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        校验项目ID是否与接口ID一致</span></span><br><span class="line"><span class="string">        :param attrs:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> Interfaces.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=attrs[<span class="string">&#x27;iid&#x27;</span>], project_id=attrs[<span class="string">&#x27;pid&#x27;</span>], is_delete=<span class="literal">False</span>).exists():</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">&#x27;项目和接口信息不对应！&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> attrs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConfiguresSerializer</span>(<span class="params">serializers.ModelSerializer</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        配置序列化器</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    interface = InterfacesAnotherSerializer(help_text=<span class="string">&#x27;项目ID和接口ID&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Configures</span><br><span class="line">        fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;interface&#x27;</span>, <span class="string">&#x27;author&#x27;</span>, <span class="string">&#x27;request&#x27;</span>)</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;request&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;write_only&#x27;</span>: <span class="literal">True</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span>(<span class="params">self, validated_data</span>):</span></span><br><span class="line">        interface_dict = validated_data.pop(<span class="string">&#x27;interface&#x27;</span>)</span><br><span class="line">        validated_data[<span class="string">&#x27;interface_id&#x27;</span>] = interface_dict[<span class="string">&#x27;iid&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> Configures.objects.create(**validated_data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self, instance, validated_data</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;interface&#x27;</span> <span class="keyword">in</span> validated_data:</span><br><span class="line">            interface_dict = validated_data.pop(<span class="string">&#x27;interface&#x27;</span>)</span><br><span class="line">            validated_data[<span class="string">&#x27;interface_id&#x27;</span>] = interface_dict[<span class="string">&#x27;iid&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().update(instance, validated_data)</span><br></pre></td></tr></table></figure>

<p>在<code>utils.validates.whether_existed_project_id</code>中检查项目id是否存在</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">whether_existed_project_id</span>(<span class="params">value</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    检查项目id是否存在</span></span><br><span class="line"><span class="string">    :param value:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">        <span class="keyword">raise</span> serializers.ValidationError(<span class="string">&#x27;所选项目有误！&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="keyword">not</span> Projects.objects.<span class="built_in">filter</span>(is_delete=<span class="literal">False</span>, <span class="built_in">id</span>=value).exists():</span><br><span class="line">        <span class="keyword">raise</span> serializers.ValidationError(<span class="string">&#x27;所选项目不存在！&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><p>查看<code>lemon-test/src/components/page/ConfigureAdd.vue</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        editVisible: <span class="literal">false</span>,   <span class="comment">// 新增配置弹框是否显示标识</span></span><br><span class="line">        apiMsgData: &#123;</span><br><span class="line">            id: <span class="literal">null</span>,</span><br><span class="line">            name: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            header: [&#123;<span class="attr">key</span>: <span class="literal">null</span>, <span class="attr">value</span>: <span class="literal">null</span>&#125;],</span><br><span class="line">            globalVar: [&#123;<span class="attr">key</span>: <span class="literal">null</span>, <span class="attr">value</span>: <span class="literal">null</span>, <span class="attr">param_type</span>: <span class="string">&#x27;string&#x27;</span>&#125;],</span><br><span class="line">        &#125;,</span><br><span class="line">        bodyShow: <span class="string">&#x27;second&#x27;</span>,</span><br><span class="line">        otherShow: <span class="string">&#x27;first&#x27;</span>,</span><br><span class="line">        paramTypes: [<span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;int&#x27;</span>, <span class="string">&#x27;float&#x27;</span>, <span class="string">&#x27;boolean&#x27;</span>],</span><br><span class="line">        cell: <span class="built_in">Object</span>(),</span><br><span class="line">        project_names: [],</span><br><span class="line">        selected_project_id: <span class="literal">null</span>,</span><br><span class="line">        selected_interface_id: <span class="literal">null</span>,</span><br><span class="line">        selected_configure_id: <span class="literal">null</span>,</span><br><span class="line">        configure_name: <span class="literal">null</span>,  <span class="comment">// 配置名称</span></span><br><span class="line">        author: <span class="string">&#x27;&#x27;</span>,     <span class="comment">// 用例编写人员</span></span><br><span class="line">        interfaces: [],</span><br><span class="line">        configures: [],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要后台返回一个字典：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">datas = &#123;</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: config_obj.author,</span><br><span class="line">    <span class="string">&quot;configure_name&quot;</span>: config_name,</span><br><span class="line">    <span class="string">&quot;selected_interface_id&quot;</span>: selected_interface_id,</span><br><span class="line">    <span class="string">&quot;selected_project_id&quot;</span>: selected_project_id,</span><br><span class="line">    <span class="string">&quot;header&quot;</span>: config_headers_list,</span><br><span class="line">    <span class="string">&quot;globalVar&quot;</span>: config_variables_list</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> ModelViewSet</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> permissions</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Configures</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> ConfiguresSerializer</span><br><span class="line"><span class="keyword">from</span> interfaces.models <span class="keyword">import</span> Interfaces</span><br><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> handle_datas</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConfiguresViewSet</span>(<span class="params">ModelViewSet</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    list:</span></span><br><span class="line"><span class="string">    返回配置信息（多个）列表数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    create:</span></span><br><span class="line"><span class="string">    创建配置信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    retrieve:</span></span><br><span class="line"><span class="string">    返回配置信息（单个）详情数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    update:</span></span><br><span class="line"><span class="string">    更新（全）配置信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    partial_update:</span></span><br><span class="line"><span class="string">    更新（部分）配置信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    destroy:</span></span><br><span class="line"><span class="string">    删除配置信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    retrieve:</span></span><br><span class="line"><span class="string">    获取配置详情</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    queryset = Configures.objects.<span class="built_in">filter</span>(is_delete=<span class="literal">False</span>)</span><br><span class="line">    serializer_class = ConfiguresSerializer</span><br><span class="line">    permission_classes = (permissions.IsAuthenticated,)</span><br><span class="line">    ordering_fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">perform_destroy</span>(<span class="params">self, instance</span>):</span></span><br><span class="line">        instance.is_delete = <span class="literal">True</span></span><br><span class="line">        instance.save()  <span class="comment"># 逻辑删除</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retrieve</span>(<span class="params">self, request, *args, **kwargs</span>):</span></span><br><span class="line">        config_obj = self.get_object()</span><br><span class="line">        <span class="comment"># 不建议使用eval()</span></span><br><span class="line">        config_request = json.loads(config_obj.request, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理请求头数据</span></span><br><span class="line">        config_headers = config_request[<span class="string">&#x27;config&#x27;</span>][<span class="string">&#x27;request&#x27;</span>].get(<span class="string">&#x27;headers&#x27;</span>)</span><br><span class="line">        config_headers_list = handle_datas.handle_data4(config_headers)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理全局变量数据</span></span><br><span class="line">        config_variables = config_request[<span class="string">&#x27;config&#x27;</span>].get(<span class="string">&#x27;variables&#x27;</span>)</span><br><span class="line">        config_variables_list = handle_datas.handle_data2(config_variables)</span><br><span class="line"></span><br><span class="line">        config_name = config_request[<span class="string">&#x27;config&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">        selected_interface_id = config_obj.interface_id</span><br><span class="line">        <span class="comment"># 接口所属的项目ID</span></span><br><span class="line">        selected_project_id = Interfaces.objects.get(<span class="built_in">id</span>=selected_interface_id).project_id</span><br><span class="line"></span><br><span class="line">        datas = &#123;</span><br><span class="line">            <span class="string">&quot;author&quot;</span>: config_obj.author,</span><br><span class="line">            <span class="string">&quot;configure_name&quot;</span>: config_name,</span><br><span class="line">            <span class="string">&quot;selected_interface_id&quot;</span>: selected_interface_id,</span><br><span class="line">            <span class="string">&quot;selected_project_id&quot;</span>: selected_project_id,</span><br><span class="line">            <span class="string">&quot;header&quot;</span>: config_headers_list,</span><br><span class="line">            <span class="string">&quot;globalVar&quot;</span>: config_variables_list</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Response(datas)</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vomy2u2zj31b30u0nks.jpg" alt="image-20191112233956495"></p>
<h2 id="用例模块"><a href="#用例模块" class="headerlink" title="用例模块"></a>用例模块</h2><h3 id="序列化器-1"><a href="#序列化器-1" class="headerlink" title="序列化器"></a>序列化器</h3><p>list接口对应的序列化器：<code>TestcasesSerializer</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vpky1qq1j31b30u07qf.jpg" alt="TestcasesSerializer"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> interfaces.models <span class="keyword">import</span> Interfaces</span><br><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> validates</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Testcases</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestcasesSerializer</span>(<span class="params">serializers.ModelSerializer</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    用例序列化器</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    interface = InterfacesAnotherSerializer(help_text=<span class="string">&quot;所属接口和项目信息&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Testcases</span><br><span class="line">        fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;interface&#x27;</span>, <span class="string">&#x27;include&#x27;</span>, <span class="string">&#x27;author&#x27;</span>, <span class="string">&#x27;request&#x27;</span>)</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;include&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;write_only&#x27;</span>: <span class="literal">True</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&#x27;request&#x27;</span>: &#123;</span><br><span class="line">                <span class="string">&#x27;write_only&#x27;</span>: <span class="literal">True</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span>(<span class="params">self, validated_data</span>):</span></span><br><span class="line">        interface_dict = validated_data.pop(<span class="string">&#x27;interface&#x27;</span>)</span><br><span class="line">        validated_data[<span class="string">&#x27;interface_id&#x27;</span>] = interface_dict[<span class="string">&#x27;iid&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> Testcases.objects.create(**validated_data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self, instance, validated_data</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;interface&#x27;</span> <span class="keyword">in</span> validated_data:</span><br><span class="line">            interface_dict = validated_data.pop(<span class="string">&#x27;interface&#x27;</span>)</span><br><span class="line">            validated_data[<span class="string">&#x27;interface_id&#x27;</span>] = interface_dict[<span class="string">&#x27;iid&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().update(instance, validated_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="用例编辑"><a href="#用例编辑" class="headerlink" title="用例编辑"></a>用例编辑</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vpmnbl25j31b30u0dz4.jpg" alt="编辑1"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vpnaz2sjj31b30u01au.jpg" alt="编辑2"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g8vpnof7hbj31b30u0k9n.jpg" alt="编辑3"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> ModelViewSet</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> permissions</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Testcases</span><br><span class="line"><span class="keyword">from</span> interfaces.models <span class="keyword">import</span> Interfaces</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> TestcasesSerializer, TestcasesRunSerializer</span><br><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> handle_datas</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestcasesViewSet</span>(<span class="params">ModelViewSet</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    list:</span></span><br><span class="line"><span class="string">    返回用例（多个）列表数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    create:</span></span><br><span class="line"><span class="string">    创建用例</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    retrieve:</span></span><br><span class="line"><span class="string">    返回用例（单个）详情数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    update:</span></span><br><span class="line"><span class="string">    更新（全）用例</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    partial_update:</span></span><br><span class="line"><span class="string">    更新（部分）用例</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    destroy:</span></span><br><span class="line"><span class="string">    删除用例</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    run:</span></span><br><span class="line"><span class="string">    运行用例</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    details:</span></span><br><span class="line"><span class="string">    获取用例详情</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    queryset = Testcases.objects.<span class="built_in">filter</span>(is_delete=<span class="literal">False</span>)</span><br><span class="line">    serializer_class = TestcasesSerializer</span><br><span class="line">    permission_classes = (permissions.IsAuthenticated,)</span><br><span class="line">    ordering_fields = (<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">perform_destroy</span>(<span class="params">self, instance</span>):</span></span><br><span class="line">        instance.is_delete = <span class="literal">True</span></span><br><span class="line">        instance.save()  <span class="comment"># 逻辑删除</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retrieve</span>(<span class="params">self, request, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;获取用例详情信息&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># Testcase对象</span></span><br><span class="line">        testcase_obj = self.get_object()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 用例前置信息</span></span><br><span class="line">        testcase_include = json.loads(testcase_obj.include, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 用例请求信息</span></span><br><span class="line">        testcase_request = json.loads(testcase_obj.request, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        testcase_request_datas = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;request&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理用例的validate列表</span></span><br><span class="line">        <span class="comment"># 将[&#123;&#x27;check&#x27;: &#x27;status_code&#x27;, &#x27;expected&#x27;:200, &#x27;comparator&#x27;: &#x27;equals&#x27;&#125;]</span></span><br><span class="line">        <span class="comment"># 转化为[&#123;key: &#x27;status_code&#x27;, value: 200, comparator: &#x27;equals&#x27;, param_type: &#x27;string&#x27;&#125;]</span></span><br><span class="line">        testcase_validate = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;validate&#x27;</span>)</span><br><span class="line">        testcase_validate_list = handle_datas.handle_data1(testcase_validate)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理用例的param数据</span></span><br><span class="line">        testcase_params = testcase_request_datas.get(<span class="string">&#x27;params&#x27;</span>)</span><br><span class="line">        testcase_params_list = handle_datas.handle_data4(testcase_params)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理用例的header列表</span></span><br><span class="line">        testcase_headers = testcase_request_datas.get(<span class="string">&#x27;headers&#x27;</span>)</span><br><span class="line">        testcase_headers_list = handle_datas.handle_data4(testcase_headers)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理用例variables变量列表</span></span><br><span class="line">        testcase_variables = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;variables&#x27;</span>)</span><br><span class="line">        testcase_variables_list = handle_datas.handle_data2(testcase_variables)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理form表单数据</span></span><br><span class="line">        testcase_form_datas = testcase_request_datas.get(<span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">        testcase_form_datas_list = handle_datas.handle_data6(testcase_form_datas)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理json数据</span></span><br><span class="line">        <span class="comment"># testcase_json_datas = str(testcase_request_datas.get(&#x27;json&#x27;))</span></span><br><span class="line">        testcase_json_datas = json.dumps(testcase_request_datas.get(<span class="string">&#x27;json&#x27;</span>), ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理extract数据</span></span><br><span class="line">        testcase_extract_datas = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;extract&#x27;</span>)</span><br><span class="line">        testcase_extract_datas_list = handle_datas.handle_data3(testcase_extract_datas)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理parameters数据</span></span><br><span class="line">        testcase_parameters_datas = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;parameters&#x27;</span>)</span><br><span class="line">        testcase_parameters_datas_list = handle_datas.handle_data3(testcase_parameters_datas)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理setupHooks数据</span></span><br><span class="line">        testcase_setup_hooks_datas = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;setup_hooks&#x27;</span>)</span><br><span class="line">        testcase_setup_hooks_datas_list = handle_datas.handle_data5(testcase_setup_hooks_datas)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 处理teardownHooks数据</span></span><br><span class="line">        testcase_teardown_hooks_datas = testcase_request.get(<span class="string">&#x27;test&#x27;</span>).get(<span class="string">&#x27;teardown_hooks&#x27;</span>)</span><br><span class="line">        testcase_teardown_hooks_datas_list = handle_datas.handle_data5(testcase_teardown_hooks_datas)</span><br><span class="line"></span><br><span class="line">        selected_configure_id = testcase_include.get(<span class="string">&#x27;config&#x27;</span>)</span><br><span class="line">        selected_interface_id = testcase_obj.interface_id</span><br><span class="line">        selected_project_id = Interfaces.objects.get(<span class="built_in">id</span>=selected_interface_id).project_id</span><br><span class="line">        selected_testcase_id = testcase_include.get(<span class="string">&#x27;testcases&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        datas = &#123;</span><br><span class="line">            <span class="string">&quot;author&quot;</span>: testcase_obj.author,</span><br><span class="line">            <span class="string">&quot;testcase_name&quot;</span>: testcase_obj.name,</span><br><span class="line">            <span class="string">&quot;selected_configure_id&quot;</span>: selected_configure_id,</span><br><span class="line">            <span class="string">&quot;selected_interface_id&quot;</span>: selected_interface_id,</span><br><span class="line">            <span class="string">&quot;selected_project_id&quot;</span>: selected_project_id,</span><br><span class="line">            <span class="string">&quot;selected_testcase_id&quot;</span>: selected_testcase_id,</span><br><span class="line"></span><br><span class="line">            <span class="string">&quot;method&quot;</span>: testcase_request_datas.get(<span class="string">&#x27;method&#x27;</span>),</span><br><span class="line">            <span class="string">&quot;url&quot;</span>: testcase_request_datas.get(<span class="string">&#x27;url&#x27;</span>),</span><br><span class="line">            <span class="string">&quot;param&quot;</span>: testcase_params_list,</span><br><span class="line">            <span class="string">&quot;header&quot;</span>: testcase_headers_list,</span><br><span class="line">            <span class="string">&quot;variable&quot;</span>: testcase_form_datas_list,  <span class="comment"># form表单请求数据</span></span><br><span class="line">            <span class="string">&quot;jsonVariable&quot;</span>: testcase_json_datas,</span><br><span class="line"></span><br><span class="line">            <span class="string">&quot;extract&quot;</span>: testcase_extract_datas_list,</span><br><span class="line">            <span class="string">&quot;validate&quot;</span>: testcase_validate_list,</span><br><span class="line">            <span class="string">&quot;globalVar&quot;</span>: testcase_variables_list,  <span class="comment"># 变量</span></span><br><span class="line">            <span class="string">&quot;parameterized&quot;</span>: testcase_parameters_datas_list,</span><br><span class="line">            <span class="string">&quot;setupHooks&quot;</span>: testcase_setup_hooks_datas_list,</span><br><span class="line">            <span class="string">&quot;teardownHooks&quot;</span>: testcase_teardown_hooks_datas_list,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Response(datas)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives%7C%7C%20archive">
              
                  <span class="site-state-item-count">51</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/zx490336534" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">测试游记</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    

  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
